{"ast":null,"code":"import _classCallCheck from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/react page admin/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/react page admin/admin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/react page admin/admin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/react page admin/admin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/react page admin/admin/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/react page admin/admin/src/MainContainer.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport data_test from \"./DummyData\";\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert';\nimport url from \"./url\";\nimport \"./MainContener.css\";\n\nvar MainContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainContainer, _Component);\n\n  function MainContainer(props) {\n    var _this;\n\n    _classCallCheck(this, MainContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainContainer).call(this, props));\n\n    _this.handlePageChange = function (page_name) {\n      var new_state = _this.state;\n      new_state.page = page_name;\n\n      _this.setState(new_state);\n    };\n\n    _this.get_data = function () {\n      return _this.state.data;\n    };\n\n    _this.get_creneaux = function () {\n      axios.get(url + \"/creneaux/\").then(function (res) {\n        var creneaux = res.data;\n        console.log(creneaux);\n        return creneaux;\n      });\n    };\n\n    _this.set_data = function (course) {\n      axios.post(url + \"/courses/\" + course.id, {\n        name: course.name,\n        language: course.language,\n        creneaux: course.creneaux,\n        min_students: course.min_students,\n        max_students: course.max_students\n      });\n    };\n\n    _this.get_id = function () {\n      return _this.state.id_course;\n    };\n\n    _this.delete_course = function (index) {\n      //let alert_button = <div className='delete-button' onClick={() => { if (window.confirm('Are you sure you wish to delete this item?')) this.onCancel(item) } } />\n      var new_state = _this.state;\n      new_state.data.splice(index, 1);\n\n      _this.setState(new_state);\n    };\n\n    _this.add_course = function () {\n      var new_state = _this.state;\n      new_state.page = \"add\";\n\n      _this.setState(new_state);\n    };\n\n    _this.edit_course = function (id) {\n      var new_state = _this.state;\n      new_state.id_course = id;\n      new_state.page = \"edit\";\n\n      _this.setState(new_state);\n    };\n\n    _this.state = {\n      page: \"Cours\",\n      data: data_test,\n      id_course: 0\n    };\n    return _this;\n  }\n  /* async componentDidMount() {\n     const { data: data_serv } = await axios.get(url + \"//\");\n     console.log(data_serv)\n     let new_state = this.state;\n     new_state.data=data_serv;\n    this.setState(new_state);        \n   }*/\n\n\n  _createClass(MainContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(url + \"/courses/\").then(function (res) {\n        var data_serv = res.data;\n        var new_state = _this2.state;\n        new_state.data = data_serv;\n\n        _this2.setState(new_state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var page = null;\n\n      if (this.state.page === \"Cours\") {\n        page = React.createElement(Cours, {\n          get_data: this.get_data,\n          delete_course: this.delete_course,\n          edit_course: this.edit_course,\n          get_creneaux: this.get_creneaux,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"login\") {\n        page = React.createElement(LoginPage, {\n          handlePageChange: this.handlePageChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"edit\") {\n        page = React.createElement(Edit, {\n          handlePageChange: this.handlePageChange,\n          get_id: this.get_id,\n          get_data: this.get_data,\n          set_data: this.set_data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"add\") {\n        page = React.createElement(Add, {\n          handlePageChange: this.handlePageChange,\n          set_data: this.set_data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, page);\n    }\n  }]);\n\n  return MainContainer;\n}(Component);\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(LoginPage, _Component2);\n\n  function LoginPage() {\n    _classCallCheck(this, LoginPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).apply(this, arguments));\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"nothing for the moment\");\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nvar Cours =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(Cours, _Component3);\n\n  function Cours() {\n    _classCallCheck(this, Cours);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Cours).apply(this, arguments));\n  }\n\n  _createClass(Cours, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var L_creneaux = this.props.get_creneaux();\n      console.log(L_creneaux);\n      var newdata = this.props.get_data();\n      var cours_L = [];\n      var add_button = React.createElement(Button, {\n        text: \"+\",\n        onclick: function onclick() {\n          return _this3.props.add_course();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      });\n\n      var _loop = function _loop(index) {\n        var quit_button = React.createElement(Button, {\n          text: \"x\",\n          onClick: function onClick() {\n            return _this3.props.delete_course(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        });\n        var course_info = [];\n        course_info.push(React.createElement(\"div\", {\n          className: \"cours\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, newdata[index].name), React.createElement(\"p\", {\n          className: \"language\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, \"langue : \", newdata[index].language), newdata[index].creneaux.map(function (id) {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \" horaires : \", L_creneaux[id]);\n        })));\n        var change_button = React.createElement(Button, {\n          text: \"edit\",\n          onClick: function onClick() {\n            return _this3.props.edit_course(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n        course_info.push(React.createElement(\"div\", {\n          className: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, quit_button, change_button));\n        cours_L.push(React.createElement(\"div\", {\n          className: \"course_info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, course_info));\n      };\n\n      for (var index = 0; index < newdata.length; index++) {\n        _loop(index);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"cours_L\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, cours_L);\n    }\n  }]);\n\n  return Cours;\n}(Component);\n\nvar Edit =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(Edit, _Component4);\n\n  function Edit() {\n    var _getPrototypeOf2;\n\n    var _this4;\n\n    _classCallCheck(this, Edit);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Edit)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this4.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.type === 'number' ? Math.max(target.value, 0) : target.type === 'text' ? target.value.substring(0, 200) : target.value;\n      var name = target.name;\n\n      var new_data = _this4.props.get_data();\n\n      var id = _this4.props.get_id();\n\n      if (name === \"changer_horaires\") {\n        new_data[id].creneaux = [parseInt(value)];\n      } else if (name === \"changer_nom\") {\n        new_data[id].name = value;\n      }\n\n      _this4.props.set_data(new_data[id]);\n\n      _this4.props.handlePageChange(\"Cours\");\n    };\n\n    return _this4;\n  }\n\n  _createClass(Edit, [{\n    key: \"render\",\n    value: function render() {\n      var data = this.props.get_data();\n      var id = this.props.get_id();\n      var change_course = [];\n      change_course.push([React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"changer cours\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, data[id].name), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"horaires : \"), React.createElement(\"select\", {\n        name: \"changer_horaires\",\n        type: \"select\",\n        value: data[id].creneaux,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Lundi 11h30-13h00\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Mardi 12h30-14h00 \"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Mardi 14h00-15h30\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Mardi 15h30-16h00\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"nom : \"), React.createElement(\"input\", {\n        name: \"changer_nom\",\n        type: \"text\",\n        value: data[id].name,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), \" \")]);\n      return React.createElement(\"div\", {\n        className: \"changing_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, change_course);\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nvar Add =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(Add, _Component5);\n\n  function Add() {\n    _classCallCheck(this, Add);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Add).apply(this, arguments));\n  }\n\n  _createClass(Add, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"nothing for the moment\");\n    }\n  }]);\n\n  return Add;\n}(Component);\n\nvar Button =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(Button, _Component6);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.props.text);\n    }\n  }]);\n\n  return Button;\n}(Component);\n\nvar alert =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(alert, _React$Component);\n\n  function alert() {\n    var _getPrototypeOf3;\n\n    var _this5;\n\n    _classCallCheck(this, alert);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(alert)).call.apply(_getPrototypeOf3, [this].concat(args)));\n\n    _this5.submit = function () {\n      confirmAlert({\n        title: 'Confirm to submit',\n        message: 'Are you sure to do this.',\n        buttons: [{\n          label: 'Yes',\n          onClick: function onClick() {\n            return alert('Click Yes');\n          }\n        }, {\n          label: 'No',\n          onClick: function onClick() {\n            return alert('Click No');\n          }\n        }]\n      });\n    };\n\n    return _this5;\n  }\n\n  _createClass(alert, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Confirm dialog\"));\n    }\n  }]);\n\n  return alert;\n}(React.Component);\n\nexport default MainContainer;","map":{"version":3,"sources":["/home/jeffrey/Bureau/cours/projet_de_département/react page admin/admin/src/MainContainer.js"],"names":["React","Component","data_test","axios","confirmAlert","url","MainContainer","props","handlePageChange","page_name","new_state","state","page","setState","get_data","data","get_creneaux","get","then","res","creneaux","console","log","set_data","course","post","id","name","language","min_students","max_students","get_id","id_course","delete_course","index","splice","add_course","edit_course","data_serv","LoginPage","Cours","L_creneaux","newdata","cours_L","add_button","quit_button","course_info","push","map","change_button","length","Edit","handleInputChange","event","target","value","type","Math","max","substring","new_data","parseInt","change_course","Add","Button","onClick","text","alert","submit","title","message","buttons","label"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport data_test from \"./DummyData\";\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert';\nimport url from \"./url\";\nimport \"./MainContener.css\"\n\nclass MainContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { page: \"Cours\",data:data_test,id_course :0 };\n      }\n     /* async componentDidMount() {\n        const { data: data_serv } = await axios.get(url + \"//\");\n        console.log(data_serv)\n        let new_state = this.state;\n        new_state.data=data_serv;\n       this.setState(new_state);        \n      }*/\n      componentDidMount(){\n        axios.get(url + \"/courses/\")\n        .then(res => {let data_serv= res.data;\n          let new_state = this.state;\n          new_state.data=data_serv;\n         this.setState(new_state);})\n      }\n\n    handlePageChange = page_name => {\n        let new_state=this.state;\n        new_state.page=page_name;\n        this.setState(new_state);\n\n    }\n    get_data = ()=> {\n        return this.state.data;\n    } \n\n    get_creneaux = ()=>{\n      axios.get(url + \"/creneaux/\")\n      .then(res => {let creneaux = res.data;\n        console.log(creneaux);\n        return creneaux;})\n      \n    }\n\n    set_data = (course)=>{\n      axios.post(url + \"/courses/\" + course.id ,{name:course.name,language:course.language,creneaux:course.creneaux,min_students:course.min_students,max_students:course.max_students})\n    }\n\n    get_id = ()=>{\n      return this.state.id_course\n    }\n\n    delete_course = index =>{ \n      //let alert_button = <div className='delete-button' onClick={() => { if (window.confirm('Are you sure you wish to delete this item?')) this.onCancel(item) } } />\n      let new_state = this.state;\n      new_state.data.splice(index,1);\n      this.setState(new_state);\n    }\n\n    add_course = ()=>{\n      let new_state = this.state;\n      new_state.page=\"add\";\n      this.setState(new_state)\n    }\n\n    edit_course = id =>{\n      let new_state = this.state;\n      new_state.id_course = id;\n      new_state.page=\"edit\";\n      this.setState(new_state)\n    }\n  render() {\n      let page=null;\n      if(this.state.page===\"Cours\"){\n          page=<Cours get_data ={this.get_data} delete_course={this.delete_course} edit_course={this.edit_course} get_creneaux={this.get_creneaux}/>\n      } else if(this.state.page===\"login\"){\n        page=<LoginPage handlePageChange={this.handlePageChange}/>\n      } else if(this.state.page === \"edit\"){\n        page=<Edit handlePageChange={this.handlePageChange} get_id ={this.get_id} get_data = {this.get_data} set_data = {this.set_data}/>\n      } else if (this.state.page === \"add\"){\n        page=<Add handlePageChange={this.handlePageChange} set_data = {this.set_data}/>\n      }\n\n    return (\n      <div className=\"main-container\">{page}</div>\n    );\n  }\n  }\n  \n  class LoginPage extends Component {\n    render() {\n      return (\n        <div>nothing for the moment</div>\n      );\n    }\n  }\n  \n  class Cours extends Component {\n    render() {\n      let L_creneaux = this.props.get_creneaux();\n      console.log(L_creneaux)\n      let newdata=this.props.get_data();\n        let cours_L=[];\n        let add_button=<Button text = \"+\" onclick={()=>this.props.add_course()}/>\n        for(let index=0; index<newdata.length; index++){\n          let quit_button=<Button text=\"x\" onClick={()=>this.props.delete_course(index)}/>\n          let course_info=[];\n            course_info.push(<div  className=\"cours\">\n            <h1 className=\"name\">{newdata[index].name}</h1>\n            <p className=\"language\">langue : {newdata[index].language}</p>\n            {newdata[index].creneaux.map((id)=>{return <p> horaires : {L_creneaux[id]}</p>})}\n            </div>)\n            let change_button=<Button text=\"edit\" onClick={()=>this.props.edit_course(index)}/>\n            course_info.push(<div className = \"buttons\">{quit_button}{change_button}</div>)\n          cours_L.push(<div className=\"course_info\">{course_info}</div>)\n          }\n      return (\n        <div className=\"cours_L\">{cours_L}</div>\n      );\n    }\n  }\n  \n  class Edit extends Component{\n\n    handleInputChange= (event) => {\n      const target = event.target;\n      const value = target.type === 'number' ? Math.max(target.value, 0) : (target.type==='text' ? target.value.substring(0,200) : target.value);\n      const name = target.name;\n      let new_data= this.props.get_data();\n      let id = this.props.get_id();\n      if (name === \"changer_horaires\"){\n        new_data[id].creneaux=[parseInt(value)];\n      }\n      else if(name === \"changer_nom\"){\n        new_data[id].name = value;\n      }\n      this.props.set_data(new_data[id]);\n      this.props.handlePageChange(\"Cours\")\n    }\n\n    render(){\n      let data = this.props.get_data();\n      let id = this.props.get_id();\n      let change_course=[];\n      change_course.push([<h1>changer cours</h1> ,<h2>{data[id].name}</h2>,<label>horaires : </label>,<select\n        name=\"changer_horaires\"\n        type='select'\n        value={data[id].creneaux}\n        onChange={this.handleInputChange} >\n        <option value=\"1\">Lundi 11h30-13h00</option>\n        <option value=\"2\">Mardi 12h30-14h00 </option>\n        <option value='3'>Mardi 14h00-15h30</option>\n        <option value='4'>Mardi 15h30-16h00</option>\n      </select>,<p><label>nom : </label><input\n        name=\"changer_nom\"\n        type=\"text\"\n        value={data[id].name}\n        onChange={this.handleInputChange} /> </p>])\n      return(<div className=\"changing_page\">{change_course}</div>)\n    }\n  }\n\n  class Add extends Component{\n    render() {\n      return (\n        <div>nothing for the moment</div>\n      );\n    }\n  }\n\n  class Button extends Component {\n    render() {\n      return (\n        <button className=\"button\" onClick={this.props.onClick}>{this.props.text}</button>\n      );\n    }\n  }\n\n\n  class alert extends React.Component {\n    submit = () => {\n      confirmAlert({\n        title: 'Confirm to submit',\n        message: 'Are you sure to do this.',\n        buttons: [\n          {\n            label: 'Yes',\n            onClick: () => alert('Click Yes')\n          },\n          {\n            label: 'No',\n            onClick: () => alert('Click No')\n          }\n        ]\n      });\n    };\n   \n    render() {\n      return (\n        <div className='alert'>\n          <button onClick={this.submit}>Confirm dialog</button>\n        </div>\n      );\n    }\n  }\n  export default MainContainer;\n  "]},"metadata":{},"sourceType":"module"}