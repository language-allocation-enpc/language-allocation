{"ast":null,"code":"import _classCallCheck from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/src/Admin.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport url from \"./url\";\naxios.defaults.withCredentials = true;\n\nvar AdminPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AdminPage, _Component);\n\n  function AdminPage(props) {\n    var _this;\n\n    _classCallCheck(this, AdminPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdminPage).call(this, props));\n\n    _this.getAuth = function () {\n      axios.get(url + 'admin/check-auth', {\n        withCredentials: false,\n        Authorization: 'Bearer ' + _this.state.token\n      }).then(function (res) {\n        _this.state.isAuth = true;\n        return true;\n      }, function (err) {\n        console.log(err);\n        return false;\n      });\n    };\n\n    _this.state = {\n      token: window.sessionStorage.getItem(\"jwt_token\"),\n      isAuth: false\n    };\n    return _this;\n  }\n\n  _createClass(AdminPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(url + 'admin/check-auth', {\n        withCredentials: true,\n        headers: {\n          Authorization: 'Bearer ' + this.state.token\n        }\n      }).then(function (res) {\n        _this2.state.isAuth = true;\n      }, function (err) {\n        console.log(\"in the error loop\");\n        _this2.state.isAuth = false;\n\n        _this2.props.history.push('/admin/login');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"buttonList\",\n        style: {\n          textAlign: 'center',\n          position: 'absolute',\n          left: '50%',\n          top: '40%',\n          transform: 'translate(-50%, -50%)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Bienvenue sur le portail de gestion du questionnaire de langues de la DLC\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        style: {\n          backgroundColor: \"#4CAF50\",\n          border: \"none\",\n          color: \"white\",\n          padding: \"15px 32px\",\n          textAlign: \"center\",\n          textDecoration: \"none\",\n          display: \"inlineBlock\",\n          fontSize: \"16px\"\n        },\n        value: \"Gestion des Cours\",\n        onClick: function onClick() {\n          return window.location.href = '/admin/manage-courses';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        style: {\n          backgroundColor: \"#4CAF50\",\n          border: \"none\",\n          color: \"white\",\n          padding: \"15px 32px\",\n          textAlign: \"center\",\n          textDecoration: \"none\",\n          display: \"inlineBlock\",\n          fontSize: \"16px\"\n        },\n        value: \"Gestion des \\xE9tudiants\",\n        onClick: function onClick() {\n          return window.location.href = '/admin/manage-students';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        style: {\n          backgroundColor: \"#4CAF50\",\n          border: \"none\",\n          color: \"white\",\n          padding: \"15px 32px\",\n          textAlign: \"center\",\n          textDecoration: \"none\",\n          display: \"inlineBlock\",\n          fontSize: \"16px\"\n        },\n        value: \"R\\xE9sultats\",\n        onClick: function onClick() {\n          return window.location.href = '/admin/get-affect';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        style: {\n          backgroundColor: \"#BB3C21\",\n          border: \"none\",\n          color: \"white\",\n          padding: \"15px 32px\",\n          textAlign: \"center\",\n          textDecoration: \"none\",\n          display: \"inlineBlock\",\n          fontSize: \"16px\"\n        },\n        value: \"Se d\\xE9connecter\",\n        onClick: function onClick() {\n          return window.location.href = '/admin/login';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AdminPage;\n}(Component);\n\nexport default AdminPage;","map":{"version":3,"sources":["/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation5/language-allocation/front/src/Admin.js"],"names":["React","Component","Redirect","axios","url","defaults","withCredentials","AdminPage","props","getAuth","get","Authorization","state","token","then","res","isAuth","err","console","log","window","sessionStorage","getItem","headers","history","push","textAlign","position","left","top","transform","backgroundColor","border","color","padding","textDecoration","display","fontSize","location","href"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom'\nimport axios from 'axios';\nimport url from \"./url\";\n\naxios.defaults.withCredentials = true\nclass AdminPage extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {token:window.sessionStorage.getItem(\"jwt_token\"), isAuth:false};\n\n    }\n\n\n  componentDidMount(){\n    axios.get(url+'admin/check-auth', {withCredentials:true, headers:{Authorization: 'Bearer '+this.state.token}}).then(\n      (res)=>{\n        this.state.isAuth=true;\n    },\n      (err)=>{\n        console.log(\"in the error loop\")\n        this.state.isAuth=false;\n        this.props.history.push('/admin/login')\n      }\n    )\n  }\n\n  getAuth=()=>{\n    axios.get(url+'admin/check-auth', {withCredentials:false, Authorization: 'Bearer '+this.state.token}).then(\n      (res)=>{\n        this.state.isAuth=true;\n        return true;\n    },\n      (err)=>{\n        console.log(err);\n        return false;\n      }\n    )\n  }\n\n\n  render() {\n      return (\n        <div className=\"buttonList\" style={{\n          textAlign:'center',\n        position: 'absolute', left: '50%', top: '40%',\n        transform: 'translate(-50%, -50%)'\n    }}><h2>Bienvenue sur le portail de gestion du questionnaire de langues de la DLC<br/><br/></h2>\n        <form>\n        <input type=\"button\" style={{  backgroundColor: \"#4CAF50\",border: \"none\",color: \"white\",padding: \"15px 32px\",textAlign: \"center\",textDecoration: \"none\",display: \"inlineBlock\",fontSize: \"16px\"}} value=\"Gestion des Cours\" onClick={()=>window.location.href='/admin/manage-courses'} />\n        </form>\n        <br/>\n        <form>\n        <input type=\"button\" style={{  backgroundColor: \"#4CAF50\",border: \"none\",color: \"white\",padding: \"15px 32px\",textAlign: \"center\",textDecoration: \"none\",display: \"inlineBlock\",fontSize: \"16px\"}} value=\"Gestion des étudiants\" onClick={()=>window.location.href='/admin/manage-students'} />\n        </form>\n        <br/>\n        <form>\n        <input type=\"button\" style={{  backgroundColor: \"#4CAF50\",border: \"none\",color: \"white\",padding: \"15px 32px\",textAlign: \"center\",textDecoration: \"none\",display: \"inlineBlock\",fontSize: \"16px\"}} value=\"Résultats\" onClick={()=>window.location.href='/admin/get-affect'} />\n        </form>\n        <br/>\n        <form>\n        <input type=\"button\" style={{  backgroundColor: \"#BB3C21\",border: \"none\",color: \"white\",padding: \"15px 32px\",textAlign: \"center\",textDecoration: \"none\",display: \"inlineBlock\",fontSize: \"16px\"}} value=\"Se déconnecter\" onClick={()=>window.location.href='/admin/login'} />\n        </form>\n        </div>\n      )\n    }\n\n  }\n\nexport default AdminPage;\n"]},"metadata":{},"sourceType":"module"}