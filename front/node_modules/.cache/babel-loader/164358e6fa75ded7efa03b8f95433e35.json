{"ast":null,"code":"import _classCallCheck from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/language-allocation/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/language-allocation/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/language-allocation/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/language-allocation/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/language-allocation/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/jeffrey/Bureau/cours/projet_de_d\\xE9partement/language-allocation/front/src/CourseEditing.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport url from \"./url\";\nimport \"./CourseEditing.css\";\nimport plus_button from \"./images/plus_button.png\";\nimport suppr_button from \"./images/suppr_button.png\";\nimport edit_button from \"./images/edit_button.png\";\nimport background_wall from \"./images/background_image.jpg\";\n\nvar CourseEditing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CourseEditing, _Component);\n\n  function CourseEditing(props) {\n    var _this;\n\n    _classCallCheck(this, CourseEditing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CourseEditing).call(this, props));\n\n    _this.handlePageChange = function (page_name) {\n      var new_state = _this.state;\n      new_state.page = page_name;\n\n      _this.setState(new_state);\n\n      axios.get(url + \"courses/\", {\n        withCredentials: false\n      }).then(function (res) {\n        var data_serv = res.data.result;\n        var new_state = _this.state;\n        new_state.data = data_serv;\n\n        _this.setState(new_state);\n\n        _this.forceUpdate();\n      });\n    };\n\n    _this.get_data = function () {\n      return _this.state.data;\n    };\n\n    _this.get_creneaux = function () {\n      return _this.state.creneaux;\n    };\n\n    _this.set_data = function (course) {\n      axios.post(url + \"courses/\" + course.id, {\n        name: course.name,\n        language: course.language,\n        creneaux: course.creneaux,\n        min_students: course.min_students,\n        max_students: course.max_students\n      });\n    };\n\n    _this.add_data = function (course) {\n      axios.put(url + \"courses/\", {\n        name: course.name,\n        language: course.language,\n        creneaux: course.creneaux,\n        min_students: course.min_students,\n        max_students: course.max_students\n      });\n    };\n\n    _this.get_id = function () {\n      return _this.state.id_course;\n    };\n\n    _this.delete_course = function (index) {\n      axios.delete(url + \"courses/\" + index);\n      axios.get(url + \"courses/\", {\n        withCredentials: false\n      }).then(function (res) {\n        var data_serv = res.data.result;\n        var new_state = _this.state;\n        new_state.data = data_serv;\n\n        _this.setState(new_state);\n      });\n\n      _this.props.history.push('/admin/manage-courses');\n    };\n\n    _this.confirm = function (index) {\n      var resultat = window.confirm(\"Voulez vous vraiment supprimer ce cours ?\");\n\n      if (resultat === true) {\n        _this.delete_course(index);\n      }\n    };\n\n    _this.add_course = function () {\n      var new_state = _this.state;\n      new_state.page = \"add\";\n\n      _this.setState(new_state);\n    };\n\n    _this.edit_course = function (id) {\n      var new_state = _this.state;\n      new_state.id_course = id;\n      new_state.page = \"edit\";\n\n      _this.setState(new_state);\n    };\n\n    _this.state = {\n      token: window.sessionStorage.getItem(\"jwt_token\"),\n      isAuth: false,\n      page: \"Cours\",\n      data: [],\n      id_course: 0,\n      creneaux: []\n    };\n    return _this;\n  }\n  /* async componentDidMount() {\n     const { data: data_serv } = await axios.get(url + \"//\");\n     console.log(data_serv)\n     let new_state = this.state;\n     new_state.data=data_serv;\n    this.setState(new_state);\n   }*/\n\n\n  _createClass(CourseEditing, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(url + 'admin/check-auth', {\n        withCredentials: true,\n        headers: {\n          Authorization: 'Bearer ' + this.state.token\n        }\n      }).then(function (res) {\n        _this2.setState({\n          isAuth: true\n        });\n      }, function (err) {\n        _this2.setState({\n          isAuth: false\n        });\n\n        _this2.props.history.push('/admin/login');\n      });\n      axios.get(url + \"creneaux/\", {\n        withCredentials: false\n      }).then(function (res) {\n        var creneaux = res.data.result;\n        var new_state = _this2.state;\n        new_state.creneaux = creneaux;\n\n        _this2.setState(new_state);\n      });\n      axios.get(url + \"courses/\", {\n        withCredentials: false\n      }).then(function (res) {\n        var data_serv = res.data.result;\n        var new_state = _this2.state;\n        new_state.data = data_serv;\n\n        _this2.setState(new_state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var page = null;\n\n      if (this.state.page === \"Cours\") {\n        page = React.createElement(Cours, {\n          get_data: this.get_data,\n          delete_course: this.delete_course,\n          edit_course: this.edit_course,\n          add_course: this.add_course,\n          get_creneaux: this.get_creneaux,\n          confirm: this.confirm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"login\") {\n        page = React.createElement(LoginPage, {\n          handlePageChange: this.handlePageChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"edit\") {\n        page = React.createElement(Edit, {\n          handlePageChange: this.handlePageChange,\n          get_id: this.get_id,\n          get_data: this.get_data,\n          set_data: this.set_data,\n          get_creneaux: this.get_creneaux,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"add\") {\n        page = React.createElement(Add, {\n          handlePageChange: this.handlePageChange,\n          add_data: this.add_data,\n          get_creneaux: this.get_creneaux,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, page);\n    }\n  }]);\n\n  return CourseEditing;\n}(Component);\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(LoginPage, _Component2);\n\n  function LoginPage() {\n    _classCallCheck(this, LoginPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).apply(this, arguments));\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"nothing for the moment\");\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nvar Cours =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(Cours, _Component3);\n\n  function Cours(props) {\n    var _this3;\n\n    _classCallCheck(this, Cours);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Cours).call(this, props));\n\n    _this3.getCurrentFilters = function () {\n      return _this3.state.current_filters;\n    };\n\n    _this3.handleFilterChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      var new_filters = _this3.state.current_filters;\n      new_filters[name] = value;\n\n      _this3.setState({\n        current_filters: new_filters\n      });\n    };\n\n    _this3.buildCriteriaWithOptions = function () {\n      var newdata = _this3.props.get_data();\n\n      var L_creneaux = _this3.props.get_creneaux();\n\n      var list_languages = [];\n      var list_schedules = [];\n\n      for (var index = 0; index < newdata.length; index++) {\n        var current_course = newdata[index];\n\n        if (!list_languages.includes(current_course.language)) {\n          list_languages.push(current_course.language);\n        }\n\n        ;\n\n        for (var index_schedule = 0; index_schedule < L_creneaux.length; index_schedule++) {\n          var schedule = L_creneaux[index_schedule].id;\n\n          if (!list_schedules.includes(schedule)) {\n            list_schedules.push(schedule);\n          }\n\n          ;\n        }\n      }\n\n      var criteria_with_options = {};\n\n      if (list_languages.length > 1) {\n        criteria_with_options.language = list_languages;\n      }\n\n      if (list_schedules.length > 1) {\n        criteria_with_options.schedule = list_schedules;\n      }\n\n      return criteria_with_options;\n    };\n\n    _this3.buildListCoursesToDisplay = function () {\n      var list_courses_to_display = _this3.props.get_data();\n\n      if (_this3.state.current_filters.language !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.language === _this3.state.current_filters.language;\n        });\n      }\n\n      if (_this3.state.current_filters.schedule !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.creneaux.includes(parseInt(_this3.state.current_filters.schedule));\n        });\n      }\n\n      return list_courses_to_display;\n    };\n\n    _this3.state = {\n      current_filters: {\n        language: \"\",\n        schedule: \"\"\n      },\n      criteria_with_options: _this3.buildCriteriaWithOptions()\n    }; //pas de filtrage par défaut\n\n    return _this3;\n  }\n\n  _createClass(Cours, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      this.state.criteria_with_options = this.buildCriteriaWithOptions();\n      var L_creneaux = this.props.get_creneaux();\n      var newdata = this.buildListCoursesToDisplay();\n      var cours_L = [];\n      var add_button = React.createElement(\"img\", {\n        width: \"25%\",\n        height: \"25%\",\n        src: plus_button,\n        alt: \"\",\n        onClick: function onClick() {\n          return _this4.props.add_course();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      });\n      cours_L.push(React.createElement(\"div\", {\n        className: \"img_button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, add_button));\n\n      var _loop = function _loop(index) {\n        var quit_button = React.createElement(\"img\", {\n          width: \"50%\",\n          height: \"15%\",\n          src: suppr_button,\n          alt: \"\",\n          onClick: function onClick() {\n            return _this4.props.confirm(newdata[index].id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        });\n        var course_info = [];\n        course_info.push(React.createElement(\"div\", {\n          className: \"cours\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, newdata[index].name), React.createElement(\"div\", {\n          className: \"champs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"caract\\xE9ristiques\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"langue : \"), React.createElement(\"div\", {\n          className: \"attribut\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, newdata[index].language)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }), newdata[index].creneaux.map(function (id) {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"champs\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"caract\\xE9ristiques\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }, \" horaires : \"), React.createElement(\"div\", {\n            className: \"attribut\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }, L_creneaux[id].day), React.createElement(\"div\", {\n            className: \"attribut\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          }, L_creneaux[id].begin, \" / \", L_creneaux[id].end)));\n        })));\n        var change_button = React.createElement(\"img\", {\n          width: \"50%\",\n          height: \"15%\",\n          src: edit_button,\n          alt: \"\",\n          onClick: function onClick() {\n            return _this4.props.edit_course(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        });\n        course_info.push(React.createElement(\"div\", {\n          className: \"up-right_button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, quit_button, \"   \", change_button));\n        cours_L.push(React.createElement(\"div\", {\n          className: \"course_info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, course_info));\n      };\n\n      for (var index = 0; index < newdata.length; index++) {\n        _loop(index);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(CourseListFilter, {\n        className: \"selection\",\n        criteriaWithOptions: this.state.criteria_with_options,\n        getCurrentFilters: this.getCurrentFilters,\n        handleFilterChange: this.handleFilterChange,\n        getSchedules: this.props.get_creneaux,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cours_L\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, cours_L));\n    }\n  }]);\n\n  return Cours;\n}(Component);\n\nvar CourseListFilter =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(CourseListFilter, _Component4);\n\n  function CourseListFilter() {\n    _classCallCheck(this, CourseListFilter);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CourseListFilter).apply(this, arguments));\n  }\n\n  _createClass(CourseListFilter, [{\n    key: \"render\",\n    value: function render() {\n      var schedules = this.props.getSchedules();\n      var criteria_selection = [];\n\n      for (var criterion in this.props.criteriaWithOptions) {\n        var list_options = [React.createElement(\"option\", {\n          value: \"\",\n          key: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        })];\n\n        for (var index = 0; index < this.props.criteriaWithOptions[criterion].length; index++) {\n          var option_name = this.props.criteriaWithOptions[criterion][index];\n\n          if (criterion !== 'schedule') {\n            list_options.push(React.createElement(\"option\", {\n              value: option_name,\n              key: option_name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 233\n              },\n              __self: this\n            }, option_name));\n          } else {\n            list_options.push(React.createElement(\"option\", {\n              value: option_name,\n              key: option_name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 235\n              },\n              __self: this\n            }, schedules[option_name].day + (schedules[option_name].day === \"hors-créneaux\" ? \"\" : \" \" + schedules[option_name].begin + \"-\" + schedules[option_name].end)));\n          }\n        }\n\n        criteria_selection.push(React.createElement(\"div\", {\n          className: \"course-list-filter-option\",\n          key: criterion,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, criterion === \"language\" ? React.createElement(\"div\", {\n          className: \"texte\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, \"Langue : \") : criterion === \"schedule\" ? React.createElement(\"div\", {\n          className: \"texte\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, \"Horaire : \") : \"erreur\"), React.createElement(\"select\", {\n          name: criterion,\n          type: \"select\",\n          value: this.props.getCurrentFilters()[criterion],\n          onChange: this.props.handleFilterChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, list_options)));\n        console.log(criteria_selection);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"course-list-filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, criteria_selection);\n    }\n  }]);\n\n  return CourseListFilter;\n}(Component);\n\nvar Edit =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(Edit, _Component5);\n\n  function Edit(props) {\n    var _this5;\n\n    _classCallCheck(this, Edit);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(Edit).call(this, props));\n\n    _this5.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var id_cren = target.id;\n      var name = target.name;\n\n      var id = _this5.props.get_id();\n\n      if (name === \"changer_horaires\") {\n        var new_state = _this5.state;\n        new_state.data[id].creneaux[id_cren] = parseInt(value);\n\n        _this5.setState(new_state);\n      } else if (name === \"changer_nom\") {\n        var _new_state = _this5.state;\n        _new_state.data[id].name = [value];\n\n        _this5.setState(_new_state);\n      } else if (name === \"changer_minimum\") {\n        var _new_state2 = _this5.state;\n        var parse = parseInt(value);\n\n        if (isNaN(parse) === true) {\n          _new_state2.data[id].min_students = 0;\n\n          _this5.setState(_new_state2);\n        } else if (typeof parse === \"number\") {\n          _new_state2.data[id].min_students = [parse];\n\n          _this5.setState(_new_state2);\n        }\n      } else if (name === \"changer_maximum\") {\n        var _new_state3 = _this5.state;\n\n        var _parse = parseInt(value);\n\n        if (isNaN(_parse) === true) {\n          _new_state3.data[id].max_students = 0;\n\n          _this5.setState(_new_state3);\n        } else if (typeof _parse === \"number\") {\n          _new_state3.data[id].max_students = [_parse];\n\n          _this5.setState(_new_state3);\n        }\n      }\n    };\n\n    _this5.submit = function () {\n      var id = _this5.props.get_id();\n\n      _this5.props.set_data(_this5.state.data[id]);\n\n      _this5.props.handlePageChange(\"Cours\");\n    };\n\n    _this5.exit = function () {\n      _this5.props.handlePageChange(\"Cours\");\n    };\n\n    _this5.state = {\n      data: _this5.props.get_data()\n    };\n    return _this5;\n  }\n\n  _createClass(Edit, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var id = this.props.get_id();\n      var L_creneaux = this.props.get_creneaux();\n      var change_course = [];\n      var creneaux_op = [];\n\n      for (var cren = 0; cren < L_creneaux.length; cren++) {\n        creneaux_op.push({\n          value: cren,\n          label: L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end\n        });\n      }\n\n      creneaux_op[0].label = \"hors creneaux\";\n      change_course.push([React.createElement(\"h1\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, \"Modifier le cours \", this.state.data[id].name), React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, \"Horaires : \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, this.state.data[id].creneaux.map(function (cren) {\n        return React.createElement(\"select\", {\n          name: \"changer_horaires\",\n          type: \"select\",\n          value: cren,\n          id: _this6.state.data[id].creneaux.indexOf(cren),\n          onChange: _this6.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331\n          },\n          __self: this\n        }, creneaux_op.map(function (creneaux) {\n          return React.createElement(\"option\", {\n            value: creneaux.value,\n            id: _this6.state.data[id].creneaux.indexOf(cren),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 339\n            },\n            __self: this\n          }, creneaux.label, \" \");\n        }));\n      }), \" \"),, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, \"Nom : \"), React.createElement(\"input\", {\n        name: \"changer_nom\",\n        type: \"text\",\n        value: this.state.data[id].name,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }), \" \"), React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"Changer la capacit\\xE9 : \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"Minimum : \"), React.createElement(\"input\", {\n        name: \"changer_minimum\",\n        type: \"text\",\n        value: this.state.data[id].min_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"   Maximum : \"), React.createElement(\"input\", {\n        name: \"changer_maximum\",\n        type: \"text\",\n        value: this.state.data[id].max_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }), \" \")]);\n      var submit_button = React.createElement(Button, {\n        text: \"Soumettre\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      });\n      var exit_button = React.createElement(Button, {\n        text: \"Sortir\",\n        onClick: this.exit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      });\n      change_course.push([submit_button, exit_button]);\n      return React.createElement(\"div\", {\n        className: \"changing_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, change_course);\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nvar Add =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(Add, _Component6);\n\n  function Add(props) {\n    var _this7;\n\n    _classCallCheck(this, Add);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(Add).call(this, props));\n\n    _this7.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var id_cren = target.id;\n      var name = target.name;\n\n      if (name === \"ajouter_horaires\") {\n        var new_state = _this7.state;\n        console.log(\"value\", value, id_cren);\n        new_state.course.creneaux[id_cren] = parseInt(value);\n\n        _this7.setState(new_state);\n      } else if (name === \"ajouter_nom\") {\n        var _new_state4 = _this7.state;\n        _new_state4.course.name = [value];\n\n        _this7.setState(_new_state4);\n      } else if (name === \"ajouter_minimum\") {\n        var _new_state5 = _this7.state;\n        var parse = parseInt(value);\n\n        if (isNaN(parse) === true) {\n          _new_state5.course.min_students = 0;\n\n          _this7.setState(_new_state5);\n        } else if (typeof parse === \"number\") {\n          _new_state5.course.min_students = [parse];\n\n          _this7.setState(_new_state5);\n        }\n      } else if (name === \"ajouter_maximum\") {\n        var _new_state6 = _this7.state;\n\n        var _parse2 = parseInt(value);\n\n        if (isNaN(_parse2) === true) {\n          _new_state6.course.max_students = 0;\n\n          _this7.setState(_new_state6);\n        } else if (typeof _parse2 === \"number\") {\n          _new_state6.course.max_students = [_parse2];\n\n          _this7.setState(_new_state6);\n        }\n      }\n    };\n\n    _this7.submit = function () {\n      _this7.props.add_data(_this7.state.course);\n\n      _this7.props.handlePageChange(\"Cours\");\n    };\n\n    _this7.exit = function () {\n      _this7.props.handlePageChange(\"Cours\");\n    };\n\n    _this7.change_nb_créneaux = function (event) {\n      var value = parseInt(event.target.value);\n      var new_state = _this7.state;\n\n      if (value === 1) {\n        new_state.course.creneaux = [1];\n      } else if (value === 2) {\n        new_state.course.creneaux = [1, 1];\n      }\n\n      _this7.setState(new_state);\n    };\n\n    _this7.state = {\n      course: {\n        id: 0,\n        name: \"\",\n        language: \"\",\n        creneaux: [1],\n        min_students: 0,\n        max_students: 0\n      }\n    };\n    return _this7;\n  }\n\n  _createClass(Add, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      var add_course = [];\n      var L_creneaux = this.props.get_creneaux();\n      var creneaux_op = [];\n\n      for (var cren = 0; cren < L_creneaux.length; cren++) {\n        creneaux_op.push({\n          value: cren,\n          label: L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end\n        });\n      }\n\n      creneaux_op[0].label = \"hors creneaux\";\n      add_course.push([React.createElement(\"h1\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, \"Ajouter cours\"), React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, \"nombre de cr\\xE9neaux\"), React.createElement(\"select\", {\n        name: \"nombre_cr\\xE9neaux\",\n        type: \"select\",\n        value: this.state.course.creneaux.length,\n        onChange: this.change_nb_créneaux,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, \"2\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, this.state.course.creneaux.map(function (cren) {\n        return React.createElement(\"select\", {\n          name: \"ajouter_horaires\",\n          type: \"select\",\n          value: cren,\n          id: _this8.state.course.creneaux.indexOf(cren),\n          onChange: _this8.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 454\n          },\n          __self: this\n        }, creneaux_op.map(function (creneaux) {\n          return React.createElement(\"option\", {\n            value: creneaux.value,\n            id: _this8.state.course.creneaux.indexOf(cren),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 462\n            },\n            __self: this\n          }, creneaux.label, \" \");\n        }));\n      }), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, \"nom : \"), React.createElement(\"input\", {\n        name: \"ajouter_nom\",\n        type: \"text\",\n        value: this.state.course.name,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }), \" \"), React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, \"capacit\\xE9 :\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, \"minimum :\"), React.createElement(\"input\", {\n        name: \"ajouter_minimum\",\n        type: \"text\",\n        value: this.state.course.min_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, \" maximum : \"), React.createElement(\"input\", {\n        name: \"ajouter_maximum\",\n        type: \"text\",\n        value: this.state.course.max_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }), \" \")]);\n      var submit_button = React.createElement(Button, {\n        text: \"submit\",\n        onClick: function onClick() {\n          return _this8.submit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      });\n      var exit_button = React.createElement(Button, {\n        text: \"exit\",\n        onClick: this.exit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      });\n      add_course.push([submit_button, exit_button]);\n      return React.createElement(\"div\", {\n        className: \"adding_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, add_course);\n    }\n  }]);\n\n  return Add;\n}(Component);\n\nvar Button =\n/*#__PURE__*/\nfunction (_Component7) {\n  _inherits(Button, _Component7);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }, this.props.text);\n    }\n  }]);\n\n  return Button;\n}(Component);\n\nexport default CourseEditing;","map":{"version":3,"sources":["/home/jeffrey/Bureau/cours/projet_de_département/language-allocation/front/src/CourseEditing.js"],"names":["React","Component","axios","url","plus_button","suppr_button","edit_button","background_wall","CourseEditing","props","handlePageChange","page_name","new_state","state","page","setState","get","withCredentials","then","res","data_serv","data","result","forceUpdate","get_data","get_creneaux","creneaux","set_data","course","post","id","name","language","min_students","max_students","add_data","put","get_id","id_course","delete_course","index","delete","history","push","confirm","resultat","window","add_course","edit_course","token","sessionStorage","getItem","isAuth","headers","Authorization","err","LoginPage","Cours","getCurrentFilters","current_filters","handleFilterChange","event","target","value","new_filters","buildCriteriaWithOptions","newdata","L_creneaux","list_languages","list_schedules","length","current_course","includes","index_schedule","schedule","criteria_with_options","buildListCoursesToDisplay","list_courses_to_display","filter","arr","parseInt","cours_L","add_button","quit_button","course_info","map","day","begin","end","change_button","CourseListFilter","schedules","getSchedules","criteria_selection","criterion","criteriaWithOptions","list_options","option_name","console","log","Edit","handleInputChange","id_cren","parse","isNaN","submit","exit","change_course","creneaux_op","cren","label","indexOf","submit_button","exit_button","Add","change_nb_créneaux","Button","onClick","text"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAO,qBAAP;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;;IAIMC,a;;;;;AACF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,uFAAMA,KAAN;;AADe,UAkCjBC,gBAlCiB,GAkCE,UAAAC,SAAS,EAAI;AAC5B,UAAIC,SAAS,GAAC,MAAKC,KAAnB;AACAD,MAAAA,SAAS,CAACE,IAAV,GAAeH,SAAf;;AACA,YAAKI,QAAL,CAAcH,SAAd;;AACAV,MAAAA,KAAK,CAACc,GAAN,CAAUb,GAAG,GAAG,UAAhB,EAA4B;AAACc,QAAAA,eAAe,EAAC;AAAjB,OAA5B,EACCC,IADD,CACM,UAAAC,GAAG,EAAI;AAAC,YAAIC,SAAS,GAAED,GAAG,CAACE,IAAJ,CAASC,MAAxB;AACZ,YAAIV,SAAS,GAAG,MAAKC,KAArB;AACAD,QAAAA,SAAS,CAACS,IAAV,GAAeD,SAAf;;AACD,cAAKL,QAAL,CAAcH,SAAd;;AACF,cAAKW,WAAL;AAAoB,OALnB;AAOH,KA7CgB;;AAAA,UA8CjBC,QA9CiB,GA8CN,YAAK;AACZ,aAAO,MAAKX,KAAL,CAAWQ,IAAlB;AACH,KAhDgB;;AAAA,UAmDjBI,YAnDiB,GAmDF,YAAI;AACjB,aAAO,MAAKZ,KAAL,CAAWa,QAAlB;AACD,KArDgB;;AAAA,UAuDjBC,QAvDiB,GAuDN,UAACC,MAAD,EAAU;AACnB1B,MAAAA,KAAK,CAAC2B,IAAN,CAAW1B,GAAG,GAAG,UAAN,GAAmByB,MAAM,CAACE,EAArC,EAAyC;AAACC,QAAAA,IAAI,EAACH,MAAM,CAACG,IAAb;AAAkBC,QAAAA,QAAQ,EAACJ,MAAM,CAACI,QAAlC;AAA2CN,QAAAA,QAAQ,EAACE,MAAM,CAACF,QAA3D;AAAoEO,QAAAA,YAAY,EAACL,MAAM,CAACK,YAAxF;AAAqGC,QAAAA,YAAY,EAACN,MAAM,CAACM;AAAzH,OAAzC;AACD,KAzDgB;;AAAA,UA2DjBC,QA3DiB,GA2DN,UAACP,MAAD,EAAU;AACnB1B,MAAAA,KAAK,CAACkC,GAAN,CAAUjC,GAAG,GAAG,UAAhB,EAA4B;AAAC4B,QAAAA,IAAI,EAACH,MAAM,CAACG,IAAb;AAAkBC,QAAAA,QAAQ,EAACJ,MAAM,CAACI,QAAlC;AAA2CN,QAAAA,QAAQ,EAACE,MAAM,CAACF,QAA3D;AAAoEO,QAAAA,YAAY,EAACL,MAAM,CAACK,YAAxF;AAAqGC,QAAAA,YAAY,EAACN,MAAM,CAACM;AAAzH,OAA5B;AACD,KA7DgB;;AAAA,UA+DjBG,MA/DiB,GA+DR,YAAI;AACX,aAAO,MAAKxB,KAAL,CAAWyB,SAAlB;AACD,KAjEgB;;AAAA,UAmEjBC,aAnEiB,GAmED,UAAAC,KAAK,EAAG;AACtBtC,MAAAA,KAAK,CAACuC,MAAN,CAAatC,GAAG,GAAG,UAAN,GAAmBqC,KAAhC;AACAtC,MAAAA,KAAK,CAACc,GAAN,CAAUb,GAAG,GAAG,UAAhB,EAA4B;AAACc,QAAAA,eAAe,EAAC;AAAjB,OAA5B,EACCC,IADD,CACM,UAAAC,GAAG,EAAI;AAAC,YAAIC,SAAS,GAAED,GAAG,CAACE,IAAJ,CAASC,MAAxB;AACZ,YAAIV,SAAS,GAAG,MAAKC,KAArB;AACAD,QAAAA,SAAS,CAACS,IAAV,GAAeD,SAAf;;AACD,cAAKL,QAAL,CAAcH,SAAd;AAA0B,OAJ3B;;AAKC,YAAKH,KAAL,CAAWiC,OAAX,CAAmBC,IAAnB,CAAwB,uBAAxB;AAEF,KA5EgB;;AAAA,UA8EjBC,OA9EiB,GA8EP,UAACJ,KAAD,EAAW;AACnB,UAAIK,QAAQ,GAAGC,MAAM,CAACF,OAAP,CAAe,2CAAf,CAAf;;AACA,UAAGC,QAAQ,KAAK,IAAhB,EAAqB;AACnB,cAAKN,aAAL,CAAmBC,KAAnB;AACD;AACF,KAnFgB;;AAAA,UAqFjBO,UArFiB,GAqFJ,YAAI;AACf,UAAInC,SAAS,GAAG,MAAKC,KAArB;AACAD,MAAAA,SAAS,CAACE,IAAV,GAAe,KAAf;;AACA,YAAKC,QAAL,CAAcH,SAAd;AACD,KAzFgB;;AAAA,UA2FjBoC,WA3FiB,GA2FH,UAAAlB,EAAE,EAAG;AACjB,UAAIlB,SAAS,GAAG,MAAKC,KAArB;AACAD,MAAAA,SAAS,CAAC0B,SAAV,GAAsBR,EAAtB;AACAlB,MAAAA,SAAS,CAACE,IAAV,GAAe,MAAf;;AACA,YAAKC,QAAL,CAAcH,SAAd;AACD,KAhGgB;;AAEf,UAAKC,KAAL,GAAa;AAAEoC,MAAAA,KAAK,EAACH,MAAM,CAACI,cAAP,CAAsBC,OAAtB,CAA8B,WAA9B,CAAR;AAAoDC,MAAAA,MAAM,EAAC,KAA3D;AAAkEtC,MAAAA,IAAI,EAAE,OAAxE;AAAgFO,MAAAA,IAAI,EAAC,EAArF;AAAwFiB,MAAAA,SAAS,EAAE,CAAnG;AAAqGZ,MAAAA,QAAQ,EAAC;AAA9G,KAAb;AAFe;AAGhB;AACF;;;;;;;;;;;wCAOoB;AAAA;;AACjBxB,MAAAA,KAAK,CAACc,GAAN,CAAUb,GAAG,GAAC,kBAAd,EAAkC;AAACc,QAAAA,eAAe,EAAC,IAAjB;AAAuBoC,QAAAA,OAAO,EAAC;AAACC,UAAAA,aAAa,EAAE,YAAU,KAAKzC,KAAL,CAAWoC;AAArC;AAA/B,OAAlC,EAA+G/B,IAA/G,CACE,UAACC,GAAD,EAAO;AACL,QAAA,MAAI,CAACJ,QAAL,CAAc;AAACqC,UAAAA,MAAM,EAAC;AAAR,SAAd;AACH,OAHD,EAIE,UAACG,GAAD,EAAO;AACL,QAAA,MAAI,CAACxC,QAAL,CAAc;AAACqC,UAAAA,MAAM,EAAC;AAAR,SAAd;;AACA,QAAA,MAAI,CAAC3C,KAAL,CAAWiC,OAAX,CAAmBC,IAAnB,CAAwB,cAAxB;AACD,OAPH;AASAzC,MAAAA,KAAK,CAACc,GAAN,CAAUb,GAAG,GAAG,WAAhB,EAA6B;AAACc,QAAAA,eAAe,EAAC;AAAjB,OAA7B,EACEC,IADF,CACO,UAAAC,GAAG,EAAI;AAAC,YAAIO,QAAQ,GAAEP,GAAG,CAACE,IAAJ,CAASC,MAAvB;AACZ,YAAIV,SAAS,GAAG,MAAI,CAACC,KAArB;AACAD,QAAAA,SAAS,CAACc,QAAV,GAAmBA,QAAnB;;AACA,QAAA,MAAI,CAACX,QAAL,CAAcH,SAAd;AAA0B,OAJ7B;AAKAV,MAAAA,KAAK,CAACc,GAAN,CAAUb,GAAG,GAAG,UAAhB,EAA4B;AAACc,QAAAA,eAAe,EAAC;AAAjB,OAA5B,EACCC,IADD,CACM,UAAAC,GAAG,EAAI;AAAC,YAAIC,SAAS,GAAED,GAAG,CAACE,IAAJ,CAASC,MAAxB;AACZ,YAAIV,SAAS,GAAG,MAAI,CAACC,KAArB;AACAD,QAAAA,SAAS,CAACS,IAAV,GAAeD,SAAf;;AACD,QAAA,MAAI,CAACL,QAAL,CAAcH,SAAd;AAA0B,OAJ3B;AAMD;;;6BAiEM;AAEL,UAAIE,IAAI,GAAC,IAAT;;AACA,UAAG,KAAKD,KAAL,CAAWC,IAAX,KAAkB,OAArB,EAA6B;AACzBA,QAAAA,IAAI,GAAC,oBAAC,KAAD;AAAO,UAAA,QAAQ,EAAG,KAAKU,QAAvB;AAAiC,UAAA,aAAa,EAAE,KAAKe,aAArD;AACL,UAAA,WAAW,EAAE,KAAKS,WADb;AAC0B,UAAA,UAAU,EAAE,KAAKD,UAD3C;AACuD,UAAA,YAAY,EAAE,KAAKtB,YAD1E;AACwF,UAAA,OAAO,EAAG,KAAKmB,OADvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAL;AAEH,OAHD,MAGO,IAAG,KAAK/B,KAAL,CAAWC,IAAX,KAAkB,OAArB,EAA6B;AAClCA,QAAAA,IAAI,GAAC,oBAAC,SAAD;AAAW,UAAA,gBAAgB,EAAE,KAAKJ,gBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAL;AACD,OAFM,MAEA,IAAG,KAAKG,KAAL,CAAWC,IAAX,KAAoB,MAAvB,EAA8B;AACnCA,QAAAA,IAAI,GAAC,oBAAC,IAAD;AAAM,UAAA,gBAAgB,EAAE,KAAKJ,gBAA7B;AAA+C,UAAA,MAAM,EAAG,KAAK2B,MAA7D;AAAqE,UAAA,QAAQ,EAAI,KAAKb,QAAtF;AAAgG,UAAA,QAAQ,EAAI,KAAKG,QAAjH;AACL,UAAA,YAAY,EAAE,KAAKF,YADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAL;AAED,OAHM,MAGA,IAAI,KAAKZ,KAAL,CAAWC,IAAX,KAAoB,KAAxB,EAA8B;AACnCA,QAAAA,IAAI,GAAC,oBAAC,GAAD;AAAK,UAAA,gBAAgB,EAAE,KAAKJ,gBAA5B;AAA8C,UAAA,QAAQ,EAAI,KAAKyB,QAA/D;AAAyE,UAAA,YAAY,EAAE,KAAKV,YAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAL;AACD;;AAEH,aACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiCX,IAAjC,CADF;AAGD;;;;EApHuBb,S;;IAuHlBuD,S;;;;;;;;;;;;;6BACK;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF;AAGD;;;;EALqBvD,S;;IAQlBwD,K;;;;;AACJ,iBAAYhD,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;;AADiB,WAKnBiD,iBALmB,GAKD,YAAI;AACpB,aAAO,OAAK7C,KAAL,CAAW8C,eAAlB;AACD,KAPkB;;AAAA,WASnBC,kBATmB,GASA,UAACC,KAAD,EAAW;AAC5B,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAID,MAAM,CAACC,KAAtB;AACA,UAAMhC,IAAI,GAAG+B,MAAM,CAAC/B,IAApB;AAEA,UAAIiC,WAAW,GAAE,OAAKnD,KAAL,CAAW8C,eAA5B;AACAK,MAAAA,WAAW,CAACjC,IAAD,CAAX,GAAkBgC,KAAlB;;AACA,aAAKhD,QAAL,CAAc;AAAC4C,QAAAA,eAAe,EAAEK;AAAlB,OAAd;AACD,KAjBkB;;AAAA,WAmBnBC,wBAnBmB,GAmBM,YAAI;AAC3B,UAAIC,OAAO,GAAC,OAAKzD,KAAL,CAAWe,QAAX,EAAZ;;AACA,UAAI2C,UAAU,GAAG,OAAK1D,KAAL,CAAWgB,YAAX,EAAjB;;AACA,UAAI2C,cAAc,GAAC,EAAnB;AACA,UAAIC,cAAc,GAAC,EAAnB;;AACA,WAAI,IAAI7B,KAAK,GAAC,CAAd,EAAiBA,KAAK,GAAC0B,OAAO,CAACI,MAA/B,EAAuC9B,KAAK,EAA5C,EAA+C;AAC7C,YAAI+B,cAAc,GAACL,OAAO,CAAC1B,KAAD,CAA1B;;AACA,YAAG,CAAC4B,cAAc,CAACI,QAAf,CAAwBD,cAAc,CAACvC,QAAvC,CAAJ,EAAqD;AAACoC,UAAAA,cAAc,CAACzB,IAAf,CAAoB4B,cAAc,CAACvC,QAAnC;AAA6C;;AAAA;;AACnG,aAAI,IAAIyC,cAAc,GAAC,CAAvB,EAA0BA,cAAc,GAACN,UAAU,CAACG,MAApD,EAA4DG,cAAc,EAA1E,EAA6E;AAC3E,cAAIC,QAAQ,GAACP,UAAU,CAACM,cAAD,CAAV,CAA2B3C,EAAxC;;AACA,cAAG,CAACuC,cAAc,CAACG,QAAf,CAAwBE,QAAxB,CAAJ,EAAsC;AAACL,YAAAA,cAAc,CAAC1B,IAAf,CAAoB+B,QAApB;AAA8B;;AAAA;AACtE;AACF;;AACD,UAAIC,qBAAqB,GAAE,EAA3B;;AACA,UAAGP,cAAc,CAACE,MAAf,GAAsB,CAAzB,EAA2B;AACzBK,QAAAA,qBAAqB,CAAC3C,QAAtB,GAA+BoC,cAA/B;AACD;;AACD,UAAGC,cAAc,CAACC,MAAf,GAAsB,CAAzB,EAA2B;AACzBK,QAAAA,qBAAqB,CAACD,QAAtB,GAA+BL,cAA/B;AACD;;AACD,aAAOM,qBAAP;AACD,KAxCkB;;AAAA,WA0CnBC,yBA1CmB,GA0CO,YAAI;AAC5B,UAAIC,uBAAuB,GAAC,OAAKpE,KAAL,CAAWe,QAAX,EAA5B;;AACA,UAAG,OAAKX,KAAL,CAAW8C,eAAX,CAA2B3B,QAA3B,KAAsC,EAAzC,EAA4C;AAC1C6C,QAAAA,uBAAuB,GAAGA,uBAAuB,CAACC,MAAxB,CAA+B,UAACf,KAAD,EAAQvB,KAAR,EAAeuC,GAAf,EAAqB;AAAC,iBAAOhB,KAAK,CAAC/B,QAAN,KAAiB,OAAKnB,KAAL,CAAW8C,eAAX,CAA2B3B,QAAnD;AAA6D,SAAlH,CAA1B;AACD;;AACD,UAAG,OAAKnB,KAAL,CAAW8C,eAAX,CAA2Be,QAA3B,KAAsC,EAAzC,EAA4C;AAC1CG,QAAAA,uBAAuB,GAAGA,uBAAuB,CAACC,MAAxB,CAA+B,UAACf,KAAD,EAAQvB,KAAR,EAAeuC,GAAf,EAAqB;AAAC,iBAAOhB,KAAK,CAACrC,QAAN,CAAe8C,QAAf,CAAwBQ,QAAQ,CAAC,OAAKnE,KAAL,CAAW8C,eAAX,CAA2Be,QAA5B,CAAhC,CAAP;AAA+E,SAApI,CAA1B;AACD;;AACD,aAAOG,uBAAP;AACD,KAnDkB;;AAEjB,WAAKhE,KAAL,GAAa;AAAC8C,MAAAA,eAAe,EAAE;AAAC3B,QAAAA,QAAQ,EAAC,EAAV;AAAc0C,QAAAA,QAAQ,EAAC;AAAvB,OAAlB;AAA8CC,MAAAA,qBAAqB,EAAE,OAAKV,wBAAL;AAArE,KAAb,CAFiB,CAEkG;;AAFlG;AAGlB;;;;6BAkDQ;AAAA;;AACP,WAAKpD,KAAL,CAAW8D,qBAAX,GAAmC,KAAKV,wBAAL,EAAnC;AACA,UAAIE,UAAU,GAAG,KAAK1D,KAAL,CAAWgB,YAAX,EAAjB;AACA,UAAIyC,OAAO,GAAC,KAAKU,yBAAL,EAAZ;AACE,UAAIK,OAAO,GAAC,EAAZ;AACA,UAAIC,UAAU,GAAC;AAAK,QAAA,KAAK,EAAG,KAAb;AAAmB,QAAA,MAAM,EAAG,KAA5B;AAAkC,QAAA,GAAG,EAAI9E,WAAzC;AAAsD,QAAA,GAAG,EAAC,EAA1D;AAA6D,QAAA,OAAO,EAAE;AAAA,iBAAI,MAAI,CAACK,KAAL,CAAWsC,UAAX,EAAJ;AAAA,SAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAf;AACAkC,MAAAA,OAAO,CAACtC,IAAR,CAAa;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6BuC,UAA7B,CAAb;;AANK,iCAOG1C,KAPH;AAQH,YAAI2C,WAAW,GAAC;AAAK,UAAA,KAAK,EAAC,KAAX;AAAiB,UAAA,MAAM,EAAG,KAA1B;AAAgC,UAAA,GAAG,EAAI9E,YAAvC;AAAqD,UAAA,GAAG,EAAC,EAAzD;AAA4D,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAI,CAACI,KAAL,CAAWmC,OAAX,CAAmBsB,OAAO,CAAC1B,KAAD,CAAP,CAAeV,EAAlC,CAAJ;AAAA,WAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAhB;AACA,YAAIsD,WAAW,GAAC,EAAhB;AACEA,QAAAA,WAAW,CAACzC,IAAZ,CAAiB;AAAM,UAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACjB;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAsBuB,OAAO,CAAC1B,KAAD,CAAP,CAAeT,IAArC,CADiB,EAEjB;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwB;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAxB,EAAyE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA2BmC,OAAO,CAAC1B,KAAD,CAAP,CAAeR,QAA1C,CAAzE,CAFiB,EAGjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHiB,EAIhBkC,OAAO,CAAC1B,KAAD,CAAP,CAAed,QAAf,CAAwB2D,GAAxB,CAA4B,UAACvD,EAAD,EAAM;AACjC,iBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAG;AAAK,YAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAwB;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAxB,EAA4E;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA2BqC,UAAU,CAACrC,EAAD,CAAV,CAAewD,GAA1C,CAA5E,EACV;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA2BnB,UAAU,CAACrC,EAAD,CAAV,CAAeyD,KAA1C,SAAoDpB,UAAU,CAACrC,EAAD,CAAV,CAAe0D,GAAnE,CADU,CAAH,CAAP;AACwF,SAFzF,CAJgB,CAAjB;AAQA,YAAIC,aAAa,GAAC;AAAK,UAAA,KAAK,EAAG,KAAb;AAAmB,UAAA,MAAM,EAAG,KAA5B;AAAkC,UAAA,GAAG,EAAInF,WAAzC;AAAsD,UAAA,GAAG,EAAC,EAA1D;AAA6D,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAI,CAACG,KAAL,CAAWuC,WAAX,CAAuBR,KAAvB,CAAJ;AAAA,WAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAlB;AACA4C,QAAAA,WAAW,CAACzC,IAAZ,CAAiB;AAAK,UAAA,SAAS,EAAG,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoCwC,WAApC,SAAoDM,aAApD,CAAjB;AACFR,QAAAA,OAAO,CAACtC,IAAR,CAAa;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA8ByC,WAA9B,CAAb;AApBG;;AAOL,WAAI,IAAI5C,KAAK,GAAC,CAAd,EAAiBA,KAAK,GAAC0B,OAAO,CAACI,MAA/B,EAAuC9B,KAAK,EAA5C,EAA+C;AAAA,cAAvCA,KAAuC;AAc5C;;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,oBAAC,gBAAD;AAAkB,QAAA,SAAS,EAAG,WAA9B;AAA0C,QAAA,mBAAmB,EAAE,KAAK3B,KAAL,CAAW8D,qBAA1E;AAAiG,QAAA,iBAAiB,EAAE,KAAKjB,iBAAzH;AACL,QAAA,kBAAkB,EAAE,KAAKE,kBADpB;AACwC,QAAA,YAAY,EAAE,KAAKnD,KAAL,CAAWgB,YADjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAL,EAEA;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0BwD,OAA1B,CAFA,CADF;AAKD;;;;EAjFiBhF,S;;IAoFdyF,gB;;;;;;;;;;;;;6BACK;AACP,UAAIC,SAAS,GAAC,KAAKlF,KAAL,CAAWmF,YAAX,EAAd;AACA,UAAIC,kBAAkB,GAAC,EAAvB;;AACA,WAAI,IAAIC,SAAR,IAAqB,KAAKrF,KAAL,CAAWsF,mBAAhC,EAAoD;AAClD,YAAIC,YAAY,GAAC,CAAC;AAAQ,UAAA,KAAK,EAAC,EAAd;AAAiB,UAAA,GAAG,EAAE,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAD,CAAjB;;AACA,aAAI,IAAIxD,KAAK,GAAC,CAAd,EAAiBA,KAAK,GAAC,KAAK/B,KAAL,CAAWsF,mBAAX,CAA+BD,SAA/B,EAA0CxB,MAAjE,EAAyE9B,KAAK,EAA9E,EAAiF;AAC/E,cAAIyD,WAAW,GAAC,KAAKxF,KAAL,CAAWsF,mBAAX,CAA+BD,SAA/B,EAA0CtD,KAA1C,CAAhB;;AACA,cAAGsD,SAAS,KAAG,UAAf,EAA0B;AACxBE,YAAAA,YAAY,CAACrD,IAAb,CAAkB;AAAQ,cAAA,KAAK,EAAEsD,WAAf;AAA4B,cAAA,GAAG,EAAEA,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA+CA,WAA/C,CAAlB;AACD,WAFD,MAEO;AACLD,YAAAA,YAAY,CAACrD,IAAb,CAAkB;AAAQ,cAAA,KAAK,EAAEsD,WAAf;AAA4B,cAAA,GAAG,EAAEA,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA+CN,SAAS,CAACM,WAAD,CAAT,CAAuBX,GAAvB,IAA4BK,SAAS,CAACM,WAAD,CAAT,CAAuBX,GAAvB,KAA6B,eAA7B,GAA8C,EAA9C,GAAkD,MAAIK,SAAS,CAACM,WAAD,CAAT,CAAuBV,KAA3B,GAAiC,GAAjC,GAAqCI,SAAS,CAACM,WAAD,CAAT,CAAuBT,GAA1I,CAA/C,CAAlB;AACD;AAEF;;AACDK,QAAAA,kBAAkB,CAAClD,IAAnB,CACE;AAAK,UAAA,SAAS,EAAC,2BAAf;AAA2C,UAAA,GAAG,EAAEmD,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASA,SAAS,KAAG,UAAZ,GAAuB;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAvB,GAA+DA,SAAS,KAAG,UAAZ,GAAuB;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAvB,GAA+D,QAAvI,CADA,EAEA;AACI,UAAA,IAAI,EAAEA,SADV;AAEI,UAAA,IAAI,EAAC,QAFT;AAGI,UAAA,KAAK,EAAE,KAAKrF,KAAL,CAAWiD,iBAAX,GAA+BoC,SAA/B,CAHX;AAII,UAAA,QAAQ,EAAE,KAAKrF,KAAL,CAAWmD,kBAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKKoC,YALL,CAFA,CADF;AAaAE,QAAAA,OAAO,CAACC,GAAR,CAAYN,kBAAZ;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqCA,kBAArC,CADF;AAGD;;;;EAjC4B5F,S;;IAoCzBmG,I;;;;;AACJ,gBAAY3F,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,+EAAMA,KAAN;;AADgB,WAKlB4F,iBALkB,GAKC,UAACxC,KAAD,EAAW;AAC5B,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,UAAMuC,OAAO,GAAGxC,MAAM,CAAChC,EAAvB;AACA,UAAMC,IAAI,GAAG+B,MAAM,CAAC/B,IAApB;;AACA,UAAID,EAAE,GAAG,OAAKrB,KAAL,CAAW4B,MAAX,EAAT;;AACA,UAAIN,IAAI,KAAK,kBAAb,EAAgC;AAC9B,YAAInB,SAAS,GAAG,OAAKC,KAArB;AACAD,QAAAA,SAAS,CAACS,IAAV,CAAeS,EAAf,EAAmBJ,QAAnB,CAA4B4E,OAA5B,IAAqCtB,QAAQ,CAACjB,KAAD,CAA7C;;AACA,eAAKhD,QAAL,CAAcH,SAAd;AACD,OAJD,MAKK,IAAGmB,IAAI,KAAK,aAAZ,EAA0B;AAC7B,YAAInB,UAAS,GAAG,OAAKC,KAArB;AACAD,QAAAA,UAAS,CAACS,IAAV,CAAeS,EAAf,EAAmBC,IAAnB,GAAwB,CAACgC,KAAD,CAAxB;;AACA,eAAKhD,QAAL,CAAcH,UAAd;AACD,OAJI,MAKA,IAAImB,IAAI,KAAK,iBAAb,EAA+B;AAClC,YAAInB,WAAS,GAAG,OAAKC,KAArB;AACA,YAAI0F,KAAK,GAAGvB,QAAQ,CAACjB,KAAD,CAApB;;AAEA,YAAIyC,KAAK,CAACD,KAAD,CAAL,KAAe,IAAnB,EAAwB;AACtB3F,UAAAA,WAAS,CAACS,IAAV,CAAeS,EAAf,EAAmBG,YAAnB,GAAgC,CAAhC;;AACA,iBAAKlB,QAAL,CAAcH,WAAd;AACD,SAHD,MAIK,IAAI,OAAO2F,KAAP,KAAiB,QAArB,EAA8B;AAClC3F,UAAAA,WAAS,CAACS,IAAV,CAAeS,EAAf,EAAmBG,YAAnB,GAAgC,CAACsE,KAAD,CAAhC;;AACA,iBAAKxF,QAAL,CAAcH,WAAd;AACE;AACF,OAZE,MAaA,IAAImB,IAAI,KAAK,iBAAb,EAA+B;AAElC,YAAInB,WAAS,GAAG,OAAKC,KAArB;;AACA,YAAI0F,MAAK,GAAGvB,QAAQ,CAACjB,KAAD,CAApB;;AACA,YAAIyC,KAAK,CAACD,MAAD,CAAL,KAAe,IAAnB,EAAwB;AACtB3F,UAAAA,WAAS,CAACS,IAAV,CAAeS,EAAf,EAAmBI,YAAnB,GAAgC,CAAhC;;AACA,iBAAKnB,QAAL,CAAcH,WAAd;AACD,SAHD,MAIK,IAAI,OAAO2F,MAAP,KAAiB,QAArB,EAA8B;AAClC3F,UAAAA,WAAS,CAACS,IAAV,CAAeS,EAAf,EAAmBI,YAAnB,GAAgC,CAACqE,MAAD,CAAhC;;AACA,iBAAKxF,QAAL,CAAcH,WAAd;AACE;AACF;AACJ,KA/CiB;;AAAA,WAiDlB6F,MAjDkB,GAiDT,YAAK;AACZ,UAAI3E,EAAE,GAAG,OAAKrB,KAAL,CAAW4B,MAAX,EAAT;;AACA,aAAK5B,KAAL,CAAWkB,QAAX,CAAoB,OAAKd,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,CAApB;;AACA,aAAKrB,KAAL,CAAWC,gBAAX,CAA4B,OAA5B;AACD,KArDiB;;AAAA,WAuDlBgG,IAvDkB,GAuDX,YAAK;AACV,aAAKjG,KAAL,CAAWC,gBAAX,CAA4B,OAA5B;AACD,KAzDiB;;AAEhB,WAAKG,KAAL,GAAa;AAACQ,MAAAA,IAAI,EAAC,OAAKZ,KAAL,CAAWe,QAAX;AAAN,KAAb;AAFgB;AAGjB;;;;6BAwDO;AAAA;;AACN,UAAIM,EAAE,GAAG,KAAKrB,KAAL,CAAW4B,MAAX,EAAT;AACA,UAAI8B,UAAU,GAAG,KAAK1D,KAAL,CAAWgB,YAAX,EAAjB;AACA,UAAIkF,aAAa,GAAC,EAAlB;AACA,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAK,IAAIC,IAAI,GAAG,CAAhB,EAAkBA,IAAI,GAAC1C,UAAU,CAACG,MAAlC,EAA0CuC,IAAI,EAA9C,EAAiD;AAC/CD,QAAAA,WAAW,CAACjE,IAAZ,CAAiB;AAAEoB,UAAAA,KAAK,EAAC8C,IAAR;AAAaC,UAAAA,KAAK,EAAC3C,UAAU,CAAC0C,IAAD,CAAV,CAAiBvB,GAAjB,GAAuB,GAAvB,GAA6BnB,UAAU,CAAC0C,IAAD,CAAV,CAAiBtB,KAA9C,GAAsD,KAAtD,GAA8DpB,UAAU,CAAC0C,IAAD,CAAV,CAAiBrB;AAAlG,SAAjB;AACD;;AACDoB,MAAAA,WAAW,CAAC,CAAD,CAAX,CAAeE,KAAf,GAAuB,eAAvB;AACAH,MAAAA,aAAa,CAAChE,IAAd,CAAmB,CAAC;AAAI,QAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAyC,KAAK9B,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBC,IAA7D,CAAD,EAAyE;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAzE,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKlB,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBJ,QAApB,CAA6B2D,GAA7B,CAAiC,UAACwB,IAAD,EAAQ;AAC7C,eAAO;AACP,UAAA,IAAI,EAAC,kBADE;AAEP,UAAA,IAAI,EAAC,QAFE;AAGP,UAAA,KAAK,EAAEA,IAHA;AAIP,UAAA,EAAE,EAAI,MAAI,CAAChG,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBJ,QAApB,CAA6BqF,OAA7B,CAAqCF,IAArC,CAJC;AAKP,UAAA,QAAQ,EAAE,MAAI,CAACR,iBALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOHO,WAAW,CAACvB,GAAZ,CAAgB,UAAC3D,QAAD,EAAY;AAC1B,iBAAO;AAAQ,YAAA,KAAK,EAAGA,QAAQ,CAACqC,KAAzB;AAAgC,YAAA,EAAE,EAAI,MAAI,CAAClD,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBJ,QAApB,CAA6BqF,OAA7B,CAAqCF,IAArC,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAmFnF,QAAQ,CAACoF,KAA5F,MAAP;AACD,SAFD,CAPG,CAAP;AAYE,OAbE,CAAN,MADmB,GAcJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,EAA0C;AACvD,QAAA,IAAI,EAAC,aADkD;AAEvD,QAAA,IAAI,EAAC,MAFkD;AAGvD,QAAA,KAAK,EAAE,KAAKjG,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBC,IAH4B;AAIvD,QAAA,QAAQ,EAAE,KAAKsE,iBAJwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA1C,MAdI,EAkByB;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAA+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA/C,CAlBzB,EAkBsF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAO,QAAA,SAAS,EAAE,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAH,EAA6C;AACpJ,QAAA,IAAI,EAAG,iBAD6I;AAEpJ,QAAA,IAAI,EAAG,MAF6I;AAGpJ,QAAA,KAAK,EAAI,KAAKxF,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBG,YAHuH;AAIpJ,QAAA,QAAQ,EAAI,KAAKoE,iBAJmI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7C,EAIjE;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJiE,EAInB;AACpF,QAAA,IAAI,EAAG,iBAD6E;AAEpF,QAAA,IAAI,EAAG,MAF6E;AAGpF,QAAA,KAAK,EAAI,KAAKxF,KAAL,CAAWQ,IAAX,CAAgBS,EAAhB,EAAoBI,YAHuD;AAIpF,QAAA,QAAQ,EAAI,KAAKmE,iBAJmE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJmB,MAlBtF,CAAnB;AA2BE,UAAIW,aAAa,GAAG,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAG,WAAf;AAA2B,QAAA,OAAO,EAAE,KAAKP,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AACA,UAAIQ,WAAW,GAAG,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAG,QAAf;AAAwB,QAAA,OAAO,EAAE,KAAKP,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlB;AACAC,MAAAA,aAAa,CAAChE,IAAd,CAAmB,CAACqE,aAAD,EAAeC,WAAf,CAAnB;AACF,aAAO;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCN,aAAhC,CAAP;AACD;;;;EApGgB1G,S;;IAuGbiH,G;;;;;AACJ,eAAYzG,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,8EAAMA,KAAN;;AADgB,WAKlB4F,iBALkB,GAKC,UAACxC,KAAD,EAAW;AAE5B,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,UAAMuC,OAAO,GAAGxC,MAAM,CAAChC,EAAvB;AACA,UAAMC,IAAI,GAAG+B,MAAM,CAAC/B,IAApB;;AAEA,UAAIA,IAAI,KAAK,kBAAb,EAAgC;AAC9B,YAAInB,SAAS,GAAG,OAAKC,KAArB;AACAqF,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBpC,KAApB,EAA0BuC,OAA1B;AACA1F,QAAAA,SAAS,CAACgB,MAAV,CAAiBF,QAAjB,CAA0B4E,OAA1B,IAAmCtB,QAAQ,CAACjB,KAAD,CAA3C;;AACA,eAAKhD,QAAL,CAAcH,SAAd;AACD,OALD,MAMK,IAAGmB,IAAI,KAAK,aAAZ,EAA0B;AAC7B,YAAInB,WAAS,GAAG,OAAKC,KAArB;AACAD,QAAAA,WAAS,CAACgB,MAAV,CAAiBG,IAAjB,GAAsB,CAACgC,KAAD,CAAtB;;AACA,eAAKhD,QAAL,CAAcH,WAAd;AACD,OAJI,MAKA,IAAImB,IAAI,KAAK,iBAAb,EAA+B;AAClC,YAAInB,WAAS,GAAG,OAAKC,KAArB;AACA,YAAI0F,KAAK,GAAGvB,QAAQ,CAACjB,KAAD,CAApB;;AAEA,YAAIyC,KAAK,CAACD,KAAD,CAAL,KAAe,IAAnB,EAAwB;AACtB3F,UAAAA,WAAS,CAACgB,MAAV,CAAiBK,YAAjB,GAA8B,CAA9B;;AACA,iBAAKlB,QAAL,CAAcH,WAAd;AACD,SAHD,MAIK,IAAI,OAAO2F,KAAP,KAAiB,QAArB,EAA8B;AAClC3F,UAAAA,WAAS,CAACgB,MAAV,CAAiBK,YAAjB,GAA8B,CAACsE,KAAD,CAA9B;;AACA,iBAAKxF,QAAL,CAAcH,WAAd;AACE;AACF,OAZE,MAaA,IAAImB,IAAI,KAAK,iBAAb,EAA+B;AAElC,YAAInB,WAAS,GAAG,OAAKC,KAArB;;AACA,YAAI0F,OAAK,GAAGvB,QAAQ,CAACjB,KAAD,CAApB;;AACA,YAAIyC,KAAK,CAACD,OAAD,CAAL,KAAe,IAAnB,EAAwB;AACtB3F,UAAAA,WAAS,CAACgB,MAAV,CAAiBM,YAAjB,GAA8B,CAA9B;;AACA,iBAAKnB,QAAL,CAAcH,WAAd;AACD,SAHD,MAIK,IAAI,OAAO2F,OAAP,KAAiB,QAArB,EAA8B;AAClC3F,UAAAA,WAAS,CAACgB,MAAV,CAAiBM,YAAjB,GAA8B,CAACqE,OAAD,CAA9B;;AACA,iBAAKxF,QAAL,CAAcH,WAAd;AACE;AACF;AACF,KAjDe;;AAAA,WAoDlB6F,MApDkB,GAoDT,YAAK;AAEZ,aAAKhG,KAAL,CAAW0B,QAAX,CAAoB,OAAKtB,KAAL,CAAWe,MAA/B;;AACA,aAAKnB,KAAL,CAAWC,gBAAX,CAA4B,OAA5B;AACD,KAxDiB;;AAAA,WA0DlBgG,IA1DkB,GA0DX,YAAK;AACV,aAAKjG,KAAL,CAAWC,gBAAX,CAA4B,OAA5B;AACD,KA5DiB;;AAAA,WA8DlByG,kBA9DkB,GA8DG,UAACtD,KAAD,EAAS;AAC5B,UAAME,KAAK,GAAGiB,QAAQ,CAACnB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB;AACA,UAAInD,SAAS,GAAG,OAAKC,KAArB;;AACA,UAAIkD,KAAK,KAAK,CAAd,EAAgB;AACdnD,QAAAA,SAAS,CAACgB,MAAV,CAAiBF,QAAjB,GAA4B,CAAC,CAAD,CAA5B;AACC,OAFH,MAGK,IAAIqC,KAAK,KAAK,CAAd,EAAgB;AACnBnD,QAAAA,SAAS,CAACgB,MAAV,CAAiBF,QAAjB,GAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B;AACD;;AACD,aAAKX,QAAL,CAAcH,SAAd;AACD,KAxEiB;;AAEhB,WAAKC,KAAL,GAAa;AAACe,MAAAA,MAAM,EAAC;AAACE,QAAAA,EAAE,EAAE,CAAL;AAAQC,QAAAA,IAAI,EAAE,EAAd;AAAkBC,QAAAA,QAAQ,EAAE,EAA5B;AAAgCN,QAAAA,QAAQ,EAAE,CAAC,CAAD,CAA1C;AAA+CO,QAAAA,YAAY,EAAC,CAA5D;AAA8DC,QAAAA,YAAY,EAAC;AAA3E;AAAR,KAAb;AAFgB;AAGjB;;;;6BAuEQ;AAAA;;AACP,UAAIa,UAAU,GAAC,EAAf;AACA,UAAIoB,UAAU,GAAG,KAAK1D,KAAL,CAAWgB,YAAX,EAAjB;AACA,UAAImF,WAAW,GAAG,EAAlB;;AACA,WAAK,IAAIC,IAAI,GAAG,CAAhB,EAAkBA,IAAI,GAAC1C,UAAU,CAACG,MAAlC,EAA0CuC,IAAI,EAA9C,EAAiD;AAC/CD,QAAAA,WAAW,CAACjE,IAAZ,CAAiB;AAAEoB,UAAAA,KAAK,EAAC8C,IAAR;AAAaC,UAAAA,KAAK,EAAC3C,UAAU,CAAC0C,IAAD,CAAV,CAAiBvB,GAAjB,GAAuB,GAAvB,GAA6BnB,UAAU,CAAC0C,IAAD,CAAV,CAAiBtB,KAA9C,GAAsD,KAAtD,GAA8DpB,UAAU,CAAC0C,IAAD,CAAV,CAAiBrB;AAAlG,SAAjB;AACD;;AACDoB,MAAAA,WAAW,CAAC,CAAD,CAAX,CAAeE,KAAf,GAAuB,eAAvB;AACA/D,MAAAA,UAAU,CAACJ,IAAX,CAAgB,CAAC;AAAI,QAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAD,EAA2C;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA3C,EAA+F;AAC7G,QAAA,IAAI,EAAC,oBADwG;AAE7G,QAAA,IAAI,EAAC,QAFwG;AAG7G,QAAA,KAAK,EAAE,KAAK9B,KAAL,CAAWe,MAAX,CAAkBF,QAAlB,CAA2B4C,MAH2E;AAI7G,QAAA,QAAQ,EAAE,KAAK6C,kBAJ8F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAK7G;AAAQ,QAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAL6G,EAM7G;AAAQ,QAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAN6G,CAA/F,EAOb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKtG,KAAL,CAAWe,MAAX,CAAkBF,QAAlB,CAA2B2D,GAA3B,CAA+B,UAACwB,IAAD,EAAQ;AAC5C,eAAO;AACP,UAAA,IAAI,EAAC,kBADE;AAEP,UAAA,IAAI,EAAC,QAFE;AAGP,UAAA,KAAK,EAAEA,IAHA;AAIP,UAAA,EAAE,EAAE,MAAI,CAAChG,KAAL,CAAWe,MAAX,CAAkBF,QAAlB,CAA2BqF,OAA3B,CAAmCF,IAAnC,CAJG;AAKP,UAAA,QAAQ,EAAE,MAAI,CAACR,iBALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOHO,WAAW,CAACvB,GAAZ,CAAgB,UAAC3D,QAAD,EAAY;AAC1B,iBAAO;AAAQ,YAAA,KAAK,EAAGA,QAAQ,CAACqC,KAAzB;AAAgC,YAAA,EAAE,EAAI,MAAI,CAAClD,KAAL,CAAWe,MAAX,CAAkBF,QAAlB,CAA2BqF,OAA3B,CAAmCF,IAAnC,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAiFnF,QAAQ,CAACoF,KAA1F,MAAP;AACD,SAFD,CAPG,CAAP;AAYG,OAbE,CAAN,MAPa,EAoBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,EAA0C;AACzD,QAAA,IAAI,EAAC,aADoD;AAEzD,QAAA,IAAI,EAAC,MAFoD;AAGzD,QAAA,KAAK,EAAE,KAAKjG,KAAL,CAAWe,MAAX,CAAkBG,IAHgC;AAIzD,QAAA,QAAQ,EAAE,KAAKsE,iBAJ0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA1C,MApBD,EAwB4B;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAxB5B,EAwBwE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAO,QAAA,SAAS,EAAE,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAH,EAA4C;AAClI,QAAA,IAAI,EAAG,iBAD2H;AAElI,QAAA,IAAI,EAAG,MAF2H;AAGlI,QAAA,KAAK,EAAI,KAAKxF,KAAL,CAAWe,MAAX,CAAkBK,YAHuG;AAIlI,QAAA,QAAQ,EAAI,KAAKoE,iBAJiH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA5C,EAIhD;AAAO,QAAA,SAAS,EAAG,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJgD,EAIJ;AAClF,QAAA,IAAI,EAAG,iBAD2E;AAElF,QAAA,IAAI,EAAG,MAF2E;AAGlF,QAAA,KAAK,EAAI,KAAKxF,KAAL,CAAWe,MAAX,CAAkBM,YAHuD;AAIlF,QAAA,QAAQ,EAAI,KAAKmE,iBAJiE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJI,MAxBxE,CAAhB;AAiCE,UAAIW,aAAa,GAAG,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAG,QAAf;AAAwB,QAAA,OAAO,EAAE;AAAA,iBAAI,MAAI,CAACP,MAAL,EAAJ;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AACA,UAAIQ,WAAW,GAAG,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAG,MAAf;AAAsB,QAAA,OAAO,EAAE,KAAKP,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlB;AACA3D,MAAAA,UAAU,CAACJ,IAAX,CAAgB,CAACqE,aAAD,EAAeC,WAAf,CAAhB;AACF,aAAO;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BlE,UAA9B,CAAP;AACD;;;;EAxHe9C,S;;IA2HZmH,M;;;;;;;;;;;;;6BACK;AACP,aACE;AAAQ,QAAA,SAAS,EAAC,QAAlB;AAA2B,QAAA,OAAO,EAAE,KAAK3G,KAAL,CAAW4G,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyD,KAAK5G,KAAL,CAAW6G,IAApE,CADF;AAGD;;;;EALkBrH,S;;AAQrB,eAAeO,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport url from \"./url\";\nimport \"./CourseEditing.css\"\nimport plus_button from \"./images/plus_button.png\"\nimport suppr_button from \"./images/suppr_button.png\"\nimport edit_button from \"./images/edit_button.png\"\nimport background_wall from \"./images/background_image.jpg\"\n\n\n\nclass CourseEditing extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { token:window.sessionStorage.getItem(\"jwt_token\"), isAuth:false, page: \"Cours\",data:[],id_course :0,creneaux:[]};\n      }\n     /* async componentDidMount() {\n        const { data: data_serv } = await axios.get(url + \"//\");\n        console.log(data_serv)\n        let new_state = this.state;\n        new_state.data=data_serv;\n       this.setState(new_state);\n      }*/\n      componentDidMount(){\n        axios.get(url+'admin/check-auth', {withCredentials:true, headers:{Authorization: 'Bearer '+this.state.token}}).then(\n          (res)=>{\n            this.setState({isAuth:true});\n        },\n          (err)=>{\n            this.setState({isAuth:false});\n            this.props.history.push('/admin/login')\n          }\n        )\n        axios.get(url + \"creneaux/\", {withCredentials:false})\n         .then(res => {let creneaux= res.data.result;\n           let new_state = this.state;\n           new_state.creneaux=creneaux;\n           this.setState(new_state);})\n        axios.get(url + \"courses/\", {withCredentials:false})\n        .then(res => {let data_serv= res.data.result;\n          let new_state = this.state;\n          new_state.data=data_serv;\n         this.setState(new_state);})\n\n      }\n\n      handlePageChange = page_name => {\n          let new_state=this.state;\n          new_state.page=page_name;\n          this.setState(new_state);\n          axios.get(url + \"courses/\", {withCredentials:false})\n          .then(res => {let data_serv= res.data.result;\n            let new_state = this.state;\n            new_state.data=data_serv;\n           this.setState(new_state);\n         this.forceUpdate();})\n\n      }\n      get_data = ()=> {\n          return this.state.data;\n      }\n\n\n      get_creneaux = ()=>{\n        return this.state.creneaux;\n      }\n\n      set_data = (course)=>{\n        axios.post(url + \"courses/\" + course.id ,{name:course.name,language:course.language,creneaux:course.creneaux,min_students:course.min_students,max_students:course.max_students});\n      }\n\n      add_data = (course)=>{\n        axios.put(url + \"courses/\", {name:course.name,language:course.language,creneaux:course.creneaux,min_students:course.min_students,max_students:course.max_students});\n      }\n\n      get_id = ()=>{\n        return this.state.id_course;\n      }\n\n      delete_course = index =>{\n        axios.delete(url + \"courses/\" + index);\n        axios.get(url + \"courses/\", {withCredentials:false})\n        .then(res => {let data_serv= res.data.result;\n          let new_state = this.state;\n          new_state.data=data_serv;\n         this.setState(new_state);})\n         this.props.history.push('/admin/manage-courses')\n\n      }\n\n      confirm = (index) => {\n        let resultat = window.confirm(\"Voulez vous vraiment supprimer ce cours ?\");\n        if(resultat === true){\n          this.delete_course(index);\n        }\n      };\n\n      add_course = ()=>{\n        let new_state = this.state;\n        new_state.page=\"add\";\n        this.setState(new_state)\n      }\n\n      edit_course = id =>{\n        let new_state = this.state;\n        new_state.id_course = id;\n        new_state.page=\"edit\";\n        this.setState(new_state);\n      }\n    render() {\n\n        let page=null;\n        if(this.state.page===\"Cours\"){\n            page=<Cours get_data ={this.get_data} delete_course={this.delete_course}\n            edit_course={this.edit_course} add_course={this.add_course} get_creneaux={this.get_creneaux} confirm ={this.confirm}/>\n        } else if(this.state.page===\"login\"){\n          page=<LoginPage handlePageChange={this.handlePageChange}/>\n        } else if(this.state.page === \"edit\"){\n          page=<Edit handlePageChange={this.handlePageChange} get_id ={this.get_id} get_data = {this.get_data} set_data = {this.set_data}\n          get_creneaux={this.get_creneaux}/>\n        } else if (this.state.page === \"add\"){\n          page=<Add handlePageChange={this.handlePageChange} add_data = {this.add_data} get_creneaux={this.get_creneaux}/>\n        }\n\n      return (\n        <div className=\"main-container\">{page}</div>\n      );\n    }\n    }\n\n    class LoginPage extends Component {\n      render() {\n        return (\n          <div>nothing for the moment</div>\n        );\n      }\n    }\n\n    class Cours extends Component {\n      constructor(props) {\n        super(props);\n        this.state = {current_filters: {language:\"\", schedule:\"\"}, criteria_with_options: this.buildCriteriaWithOptions()};//pas de filtrage par défaut\n      }\n\n      getCurrentFilters=()=>{\n        return this.state.current_filters;\n      }\n\n      handleFilterChange=(event) => {\n        const target = event.target;\n        const value =  target.value;\n        const name = target.name;\n\n        let new_filters= this.state.current_filters;\n        new_filters[name]=value;\n        this.setState({current_filters: new_filters});\n      }\n\n      buildCriteriaWithOptions=()=>{\n        let newdata=this.props.get_data();\n        let L_creneaux = this.props.get_creneaux();\n        let list_languages=[];\n        let list_schedules=[];\n        for(let index=0; index<newdata.length; index++){\n          let current_course=newdata[index];\n          if(!list_languages.includes(current_course.language)){list_languages.push(current_course.language)};\n          for(let index_schedule=0; index_schedule<L_creneaux.length; index_schedule++){\n            let schedule=L_creneaux[index_schedule].id;\n            if(!list_schedules.includes(schedule)){list_schedules.push(schedule)};\n          }\n        }\n        let criteria_with_options ={};\n        if(list_languages.length>1){\n          criteria_with_options.language=list_languages;\n        }\n        if(list_schedules.length>1){\n          criteria_with_options.schedule=list_schedules;\n        }\n        return criteria_with_options;\n      }\n\n      buildListCoursesToDisplay=()=>{\n        let list_courses_to_display=this.props.get_data();\n        if(this.state.current_filters.language!==\"\"){\n          list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.language===this.state.current_filters.language;});\n        }\n        if(this.state.current_filters.schedule!==\"\"){\n          list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.creneaux.includes(parseInt(this.state.current_filters.schedule));});\n        }\n        return list_courses_to_display;\n      }\n\n      render() {\n        this.state.criteria_with_options = this.buildCriteriaWithOptions();\n        let L_creneaux = this.props.get_creneaux();\n        let newdata=this.buildListCoursesToDisplay();\n          let cours_L=[];\n          let add_button=<img width = \"25%\" height = \"25%\" src = {plus_button} alt='' onClick={()=>this.props.add_course()}/>\n          cours_L.push(<div className=\"img_button\">{add_button}</div>);\n          for(let index=0; index<newdata.length; index++){\n            let quit_button=<img width=\"50%\" height = \"15%\" src = {suppr_button} alt='' onClick={()=>this.props.confirm(newdata[index].id)}/>\n            let course_info=[];\n              course_info.push(<div  className=\"cours\">\n              <h1 className=\"name\">{newdata[index].name}</h1>\n              <div className=\"champs\"><div className=\"caractéristiques\">langue : </div><div className=\"attribut\">{newdata[index].language}</div></div>\n              <p></p>\n              {newdata[index].creneaux.map((id)=>{\n                return <p><div className=\"champs\"><div className=\"caractéristiques\"> horaires : </div><div className=\"attribut\">{L_creneaux[id].day}</div>\n                <div className=\"attribut\">{L_creneaux[id].begin} / {L_creneaux[id].end}</div></div></p>})}\n              </div>)\n              let change_button=<img width = \"50%\" height = \"15%\" src = {edit_button} alt='' onClick={()=>this.props.edit_course(index)}/>\n              course_info.push(<div className = \"up-right_button\">{quit_button}   {change_button}</div>)\n            cours_L.push(<div className=\"course_info\">{course_info}</div>)\n            }\n        return (\n          <div><CourseListFilter className = \"selection\" criteriaWithOptions={this.state.criteria_with_options} getCurrentFilters={this.getCurrentFilters}\n          handleFilterChange={this.handleFilterChange} getSchedules={this.props.get_creneaux}/>\n          <div className=\"cours_L\">{cours_L}</div></div>\n        );\n      }\n    }\n\n    class CourseListFilter extends Component {\n      render() {\n        let schedules=this.props.getSchedules();\n        let criteria_selection=[];\n        for(let criterion in this.props.criteriaWithOptions){\n          let list_options=[<option value=\"\" key={\"\"}></option>];\n          for(let index=0; index<this.props.criteriaWithOptions[criterion].length; index++){\n            let option_name=this.props.criteriaWithOptions[criterion][index];\n            if(criterion!=='schedule'){\n              list_options.push(<option value={option_name} key={option_name}>{option_name}</option>);\n            } else {\n              list_options.push(<option value={option_name} key={option_name}>{schedules[option_name].day+(schedules[option_name].day===\"hors-créneaux\"? \"\":(\" \"+schedules[option_name].begin+\"-\"+schedules[option_name].end))}</option>);\n            }\n\n          }\n          criteria_selection.push(\n            <div className=\"course-list-filter-option\" key={criterion}>\n            <label >{criterion===\"language\"?<div className=\"texte\">Langue : </div>:(criterion===\"schedule\"?<div className=\"texte\">Horaire : </div>:\"erreur\")}</label>\n            <select\n                name={criterion}\n                type='select'\n                value={this.props.getCurrentFilters()[criterion]}\n                onChange={this.props.handleFilterChange} >\n                {list_options}\n              </select>\n          </div>\n\n          );\n          console.log(criteria_selection);\n        }\n        return (\n          <div className=\"course-list-filter\">{criteria_selection}</div>\n        );\n      }\n      }\n\n    class Edit extends Component{\n      constructor(props){\n        super(props);\n        this.state = {data:this.props.get_data()}\n      }\n\n      handleInputChange= (event) => {\n        const target = event.target;\n        const value = target.value;\n        const id_cren = target.id;\n        const name = target.name;\n        let id = this.props.get_id();\n        if (name === \"changer_horaires\"){\n          let new_state = this.state;\n          new_state.data[id].creneaux[id_cren]=parseInt(value);\n          this.setState(new_state);\n        }\n        else if(name === \"changer_nom\"){\n          let new_state = this.state;\n          new_state.data[id].name=[value];\n          this.setState(new_state);\n        }\n        else if (name === \"changer_minimum\"){\n          let new_state = this.state;\n          let parse = parseInt(value)\n\n          if (isNaN(parse)===true){\n            new_state.data[id].min_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.data[id].min_students=[parse];\n           this.setState(new_state);\n            }\n          }\n        else if (name === \"changer_maximum\"){\n\n          let new_state = this.state;\n          let parse = parseInt(value)\n          if (isNaN(parse)===true){\n            new_state.data[id].max_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.data[id].max_students=[parse];\n           this.setState(new_state);\n            }\n          }\n      }\n\n      submit = () =>{\n        let id = this.props.get_id();\n        this.props.set_data(this.state.data[id]);\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      exit = () =>{\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      render(){\n        let id = this.props.get_id();\n        let L_creneaux = this.props.get_creneaux();\n        let change_course=[];\n        let creneaux_op = [];\n        for (let cren = 0;cren<L_creneaux.length; cren++){\n          creneaux_op.push({ value:cren,label:L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end});\n        }\n        creneaux_op[0].label = \"hors creneaux\";\n        change_course.push([<h1 className=\"Title\">Modifier le cours {this.state.data[id].name}</h1>,<label className = \"cat\">Horaires : </label>,\n        <div>{this.state.data[id].creneaux.map((cren)=>{\n          return <select\n          name=\"changer_horaires\"\n          type='select'\n          value={cren}\n          id = {this.state.data[id].creneaux.indexOf(cren)}\n          onChange={this.handleInputChange} >\n          {\n              creneaux_op.map((creneaux)=>{\n                return <option value ={creneaux.value} id = {this.state.data[id].creneaux.indexOf(cren)}>{creneaux.label} </option>;\n              })\n            }\n             </select>\n           })} </div>,,<p><label className = \"cat\">Nom : </label><input\n          name=\"changer_nom\"\n          type=\"text\"\n          value={this.state.data[id].name}\n          onChange={this.handleInputChange} /> </p>,<label className = \"cat\">Changer la capacité : <br/></label>,<p><label className =\"cat\">Minimum : </label><input\n          name = \"changer_minimum\"\n          type = \"text\"\n          value = {this.state.data[id].min_students}\n          onChange = {this.handleInputChange} /><label className = \"cat\">   Maximum : </label><input\n          name = \"changer_maximum\"\n          type = \"text\"\n          value = {this.state.data[id].max_students}\n          onChange = {this.handleInputChange} /> </p>])\n          let submit_button = <Button text = \"Soumettre\" onClick={this.submit}/>;\n          let exit_button = <Button text = \"Sortir\" onClick={this.exit}/>;\n          change_course.push([submit_button,exit_button]);\n        return(<div className=\"changing_page\">{change_course}</div>)\n      }\n    }\n\n    class Add extends Component{\n      constructor(props){\n        super(props);\n        this.state = {course:{id: 0, name: \"\", language: \"\", creneaux: [1], min_students:0,max_students:0}}\n      }\n\n      handleInputChange= (event) => {\n\n        const target = event.target;\n        const value = target.value;\n        const id_cren = target.id;\n        const name = target.name;\n\n        if (name === \"ajouter_horaires\"){\n          let new_state = this.state;\n          console.log(\"value\",value,id_cren)\n          new_state.course.creneaux[id_cren]=parseInt(value);\n          this.setState(new_state);\n        }\n        else if(name === \"ajouter_nom\"){\n          let new_state = this.state;\n          new_state.course.name=[value];\n          this.setState(new_state);\n        }\n        else if (name === \"ajouter_minimum\"){\n          let new_state = this.state;\n          let parse = parseInt(value)\n\n          if (isNaN(parse)===true){\n            new_state.course.min_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.course.min_students=[parse];\n           this.setState(new_state);\n            }\n          }\n        else if (name === \"ajouter_maximum\"){\n\n          let new_state = this.state;\n          let parse = parseInt(value)\n          if (isNaN(parse)===true){\n            new_state.course.max_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.course.max_students=[parse];\n           this.setState(new_state);\n            }\n          }\n        }\n\n\n      submit = () =>{\n\n        this.props.add_data(this.state.course);\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      exit = () =>{\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      change_nb_créneaux = (event)=>{\n        const value = parseInt(event.target.value);\n        let new_state = this.state;\n        if (value === 1){\n          new_state.course.creneaux = [1];\n          }\n        else if (value === 2){\n          new_state.course.creneaux = [1,1];\n        }\n        this.setState(new_state);\n      }\n\n      render() {\n        let add_course=[];\n        let L_creneaux = this.props.get_creneaux();\n        let creneaux_op = [];\n        for (let cren = 0;cren<L_creneaux.length; cren++){\n          creneaux_op.push({ value:cren,label:L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end});\n        }\n        creneaux_op[0].label = \"hors creneaux\";\n        add_course.push([<h1 className=\"Title\">Ajouter cours</h1> ,<label className = \"cat\">nombre de créneaux</label>,<select\n          name=\"nombre_créneaux\"\n          type=\"select\"\n          value={this.state.course.creneaux.length}\n          onChange={this.change_nb_créneaux}>\n          <option value={1}>1</option>\n          <option value={2}>2</option></select>\n          ,<div>{this.state.course.creneaux.map((cren)=>{\n            return <select\n            name=\"ajouter_horaires\"\n            type='select'\n            value={cren}\n            id={this.state.course.creneaux.indexOf(cren)}\n            onChange={this.handleInputChange} >\n            {\n                creneaux_op.map((creneaux)=>{\n                  return <option value ={creneaux.value} id = {this.state.course.creneaux.indexOf(cren)}>{creneaux.label} </option>;\n                })\n              }\n               </select>\n              })} </div>,<p><label className = \"cat\">nom : </label><input\n          name=\"ajouter_nom\"\n          type=\"text\"\n          value={this.state.course.name}\n          onChange={this.handleInputChange} /> </p>,<label className = \"cat\">capacité :</label>,<p><label className =\"cat\">minimum :</label><input\n          name = \"ajouter_minimum\"\n          type = \"text\"\n          value = {this.state.course.min_students}\n          onChange = {this.handleInputChange} /><label className = \"cat\"> maximum : </label><input\n          name = \"ajouter_maximum\"\n          type = \"text\"\n          value = {this.state.course.max_students}\n          onChange = {this.handleInputChange} /> </p>])\n          let submit_button = <Button text = \"submit\" onClick={()=>this.submit()}/>;\n          let exit_button = <Button text = \"exit\" onClick={this.exit}/>;\n          add_course.push([submit_button,exit_button]);\n        return(<div className=\"adding_page\">{add_course}</div>)\n      }\n    }\n\n    class Button extends Component {\n      render() {\n        return (\n          <button className=\"button\" onClick={this.props.onClick}>{this.props.text}</button>\n        );\n      }\n    }\n\n    export default CourseEditing;\n"]},"metadata":{},"sourceType":"module"}