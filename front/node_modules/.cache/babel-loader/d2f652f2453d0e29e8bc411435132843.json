{"ast":null,"code":"import _classCallCheck from \"/home/nathan/ENPC/ProDep/language-allocation/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nathan/ENPC/ProDep/language-allocation/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nathan/ENPC/ProDep/language-allocation/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nathan/ENPC/ProDep/language-allocation/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nathan/ENPC/ProDep/language-allocation/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nathan/ENPC/ProDep/language-allocation/front/src/Questionnaire.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport dummyData from \"./DummyData\";\nimport url from \"./url\";\nimport error_panel from './images/error_panel.png';\nimport './Questionnaire.css';\nimport queryString from 'query-string';\nimport Cookies from 'js-cookie';\n\nvar Questionnaire =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Questionnaire, _Component);\n\n  function Questionnaire(props) {\n    var _this;\n\n    _classCallCheck(this, Questionnaire);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Questionnaire).call(this, props));\n\n    _this.buildStepList = function (answers) {\n      var step_list = [\"initial_questions\"];\n\n      if (answers.number_english_courses > 0) {\n        step_list.push(\"ranking_english_courses\");\n      }\n\n      if (answers.number_other_courses > 0) {\n        step_list.push(\"ranking_other_courses\");\n      }\n\n      step_list.push(\"final_question\");\n      return step_list;\n    };\n\n    _this.getStepIndex = function () {\n      return _this.state.step_index;\n    };\n\n    _this.getUserName = function () {\n      return _this.state.data.user_name;\n    };\n\n    _this.handleStepChange = function (direction) {\n      if (direction === \"previous\" && _this.state.step_index > 0) {\n        _this.setState({\n          step_index: _this.state.step_index - 1\n        });\n      } else if (direction === \"next\" && _this.state.step_index < _this.state.step_list.length - 1) {\n        _this.setState({\n          step_index: _this.state.step_index + 1\n        });\n      }\n    };\n\n    _this.getStepList = function () {\n      return _this.state.step_list;\n    };\n\n    _this.setStepList = function (new_step_list) {\n      _this.setState({\n        step_list: new_step_list\n      });\n    };\n\n    _this.getAnswers = function () {\n      return _this.state.answers;\n    };\n\n    _this.setAnswers = function (new_answers) {\n      var new_step_list = _this.buildStepList(new_answers);\n\n      _this.setState({\n        answers: new_answers,\n        step_list: new_step_list\n      });\n    };\n\n    _this.getAnswersAreSent = function () {\n      return _this.state.answers_are_sent;\n    };\n\n    _this.sendAnswers = function () {\n      //ajouter requête\n      _this.setState({\n        answers_are_sent: true\n      });\n    };\n\n    _this.getSchedules = function () {\n      return _this.state.data.schedules;\n    };\n\n    _this.state = {\n      data: {\n        courses: dummyData,\n        schedules: [],\n        user_id: Cookies.get('user_id'),\n        user_name: Cookies.get('user_name'),\n        user_vows: Cookies.get('user_vows')\n      },\n      is_loaded: false,\n      step_list: [\"initial_questions\"],\n      step_index: 0,\n      answers_are_sent: false,\n      answers: {\n        year: '',\n        TOEIC: '',\n        justification_no_english: '',\n        justification_no_english_text: '',\n        number_english_courses: 1,\n        number_other_courses: 0,\n        english_courses_ranking: [],\n        other_courses_ranking: []\n      }\n    };\n    Cookies.remove('user_id', {\n      path: ''\n    });\n    Cookies.remove('user_name', {\n      path: ''\n    });\n    Cookies.remove('user_vows', {\n      path: ''\n    });\n    return _this;\n  }\n\n  _createClass(Questionnaire, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(url + \"courses/\").then(function (result) {\n        var new_state = _this2.state;\n        new_state.data.courses = result.data.result;\n        new_state.is_loaded = true;\n\n        _this2.setState({\n          new_state: new_state\n        });\n      }, function (error) {\n        _this2.setState({\n          is_loaded: false\n        });\n      });\n      axios.get(url + \"creneaux/\").then(function (result) {\n        var new_state = _this2.state;\n        new_state.data.schedules = result.data.result;\n        new_state.is_loaded = true;\n\n        _this2.setState({\n          new_state: new_state\n        });\n      }, function (error) {\n        _this2.setState({\n          is_loaded: false\n        });\n      }); //this.setState({data: dummyData})\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = this.state.data;\n      var step = null;\n      var current_step_name = this.state.step_list[this.state.step_index];\n\n      if (current_step_name === \"initial_questions\") {\n        step = React.createElement(InitialQuestions, {\n          getStepIndex: this.getStepIndex,\n          getUserName: this.getUserName,\n          handleStepChange: this.handleStepChange,\n          getStepList: this.getStepList,\n          setStepList: this.setStepList,\n          getAnswers: this.getAnswers,\n          setAnswers: this.setAnswers,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        });\n      } else if (current_step_name === \"ranking_english_courses\") {\n        var list_english_courses = data.courses.filter(function (value, index, arr) {\n          return value.language === \"Anglais\";\n        });\n        step = React.createElement(CourseRankingQuestion, {\n          instructions: \"Veuillez ordonner les cours d'Anglais par ordre de pr\\xE9f\\xE9rence\",\n          courses: list_english_courses,\n          key: \"english_courses_ranking\",\n          answer: \"english_courses_ranking\",\n          getStepIndex: this.getStepIndex,\n          handleStepChange: this.handleStepChange,\n          getStepList: this.getStepList,\n          setStepList: this.setStepList,\n          getAnswers: this.getAnswers,\n          setAnswers: this.setAnswers,\n          getSchedules: this.getSchedules,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        });\n      } else if (current_step_name === \"ranking_other_courses\") {\n        var list_other_courses = data.courses.filter(function (value, index, arr) {\n          return value.language !== \"Anglais\";\n        });\n        step = React.createElement(CourseRankingQuestion, {\n          instructions: \"Veillez classer les autres cours par ordre de pr\\xE9f\\xE9rence\",\n          courses: list_other_courses,\n          key: \"other_courses_ranking\",\n          answer: \"other_courses_ranking\",\n          getStepIndex: this.getStepIndex,\n          handleStepChange: this.handleStepChange,\n          getStepList: this.getStepList,\n          setStepList: this.setStepList,\n          getAnswers: this.getAnswers,\n          setAnswers: this.setAnswers,\n          getSchedules: this.getSchedules,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        });\n      } else if (current_step_name === \"final_question\") {\n        step = React.createElement(FinalQuestion, {\n          instructions: \"Ce questionnaire est maintenant termin\\xE9. Veuillez envoyer vos r\\xE9ponses pour que celles-ci soient prises en compte.\",\n          key: \"final-question\",\n          getStepIndex: this.getStepIndex,\n          handleStepChange: this.handleStepChange,\n          getStepList: this.getStepList,\n          setStepList: this.setStepList,\n          getAnswersAreSent: this.getAnswersAreSent,\n          sendAnswers: this.sendAnswers,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"questionnaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, step);\n    }\n  }]);\n\n  return Questionnaire;\n}(Component);\n\nvar InitialQuestions =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(InitialQuestions, _Component2);\n\n  function InitialQuestions(props) {\n    var _this3;\n\n    _classCallCheck(this, InitialQuestions);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(InitialQuestions).call(this, props));\n\n    _this3.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.type === 'number' ? Math.max(target.value, 0) : target.type === 'text' ? target.value.substring(0, 200) : target.value;\n      var name = target.name;\n\n      var new_answers = _this3.props.getAnswers();\n\n      new_answers[name] = value;\n\n      _this3.props.setAnswers(new_answers);\n    };\n\n    _this3.verificationFunction = function () {\n      var answers = _this3.props.getAnswers();\n\n      var all_questions_answered_properly = answers.year !== '' && answers.TOEIC !== '' && !(answers.number_english_courses === 0 && answers.justification_no_english === '') && !(answers.number_english_courses === 0 && answers.justification_no_english === 'Autre' && answers.justification_no_english_text === '');\n      var current_error_messages = [];\n\n      if (!all_questions_answered_properly) {\n        current_error_messages.push(React.createElement(ErrorMessage, {\n          text: \"Veuillez r\\xE9pondre \\xE0 toutes les questions de cette page.\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }));\n      }\n\n      _this3.setState({\n        error_messages: current_error_messages\n      }); //ajouter d'autres erreurs éventuelles\n\n\n      return all_questions_answered_properly;\n    };\n\n    _this3.state = {\n      error_messages: []\n    };\n    return _this3;\n  }\n\n  _createClass(InitialQuestions, [{\n    key: \"render\",\n    value: function render() {\n      var additionnal_question_about_english_courses = [];\n\n      if (this.props.getAnswers().number_english_courses < 1) {\n        additionnal_question_about_english_courses.push([React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"Veuillez justifier l'absence de cours d'anglais dans vos choix.\"), React.createElement(\"select\", {\n          name: \"justification_no_english\",\n          type: \"select\",\n          className: \"questionnaire-form-select\",\n          value: this.props.getAnswers().justification_no_english,\n          onChange: this.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"\",\n          selected: true,\n          disabled: true,\n          hidden: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, \"Choisir\"), React.createElement(\"option\", {\n          value: \"Je suis le CIM ou j'ai valid\\xE9 le CIM\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, \"Je suis le CIM ou j'ai valid\\xE9 le CIM\"), React.createElement(\"option\", {\n          value: \"J'ai valid\\xE9 tous mes ECTS d'Anglais et l'obligation TOEIC\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"J'ai valid\\xE9 tous mes ECTS d'Anglais et l'obligation TOEIC\"), React.createElement(\"option\", {\n          value: \"Je dois me concentrer sur ma LV2 ce semestre\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"Je dois me concentrer sur ma LV2 ce semestre\"), React.createElement(\"option\", {\n          value: \"Je suis des cours hors ENPC\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"Je suis des cours hors ENPC\"), React.createElement(\"option\", {\n          value: \"Je ne suis pas \\xE0 l'ENPC ce semestre\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, \"Je ne suis pas \\xE0 l'ENPC ce semestre\"), React.createElement(\"option\", {\n          value: \"Je suis stagiaire \\xE9tranger(e)\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, \"Je suis stagiaire \\xE9tranger(e)\"), React.createElement(\"option\", {\n          value: \"Autre\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"Autre\")), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        })]);\n      }\n\n      if (this.props.getAnswers().number_english_courses < 1 && this.props.getAnswers().justification_no_english === \"Autre\") {\n        additionnal_question_about_english_courses.push([React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, \"Veuillez pr\\xE9ciser cette autre raison.\"), React.createElement(\"input\", {\n          name: \"justification_no_english_text\",\n          type: \"text\",\n          className: \"questionnaire-form-text\",\n          value: this.props.getAnswers().justification_no_english_text,\n          onChange: this.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        })]);\n      }\n\n      var instructions = \"Bienvenue \" + this.props.getUserName() + \". Veuillez répondre aux questions suivantes. Il vous sera demandé de classer les cours par ordre de préférence dans la suite du questionnaire.\";\n\n      if (this.state.error_messages.length > 0) {\n        instructions = this.state.error_messages;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(QuestionInstructions, {\n        text: instructions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"question-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"initial-questions-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"En quelle ann\\xE9e \\xEAtes-vous ? \"), React.createElement(\"select\", {\n        name: \"year\",\n        type: \"select\",\n        className: \"questionnaire-form-select\",\n        value: this.props.getAnswers().year,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        selected: true,\n        disabled: true,\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Choisir\"), React.createElement(\"option\", {\n        value: \"1A\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"1A\"), React.createElement(\"option\", {\n        value: \"2/3A\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"2/3A\"), React.createElement(\"option\", {\n        value: \"Cycle Master\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Cycle Master\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Quelle note avez-vous obtenue au TOEIC ? \"), React.createElement(\"select\", {\n        name: \"TOEIC\",\n        type: \"select\",\n        className: \"questionnaire-form-select\",\n        value: this.props.getAnswers().TOEIC,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        selected: true,\n        disabled: true,\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Choisir\"), React.createElement(\"option\", {\n        value: \"moins de 650\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"moins de 650\"), React.createElement(\"option\", {\n        value: \"entre 650 et 785\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"entre 650 et 785\"), React.createElement(\"option\", {\n        value: \"plus de 785\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"plus de 785\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Combien de cours d'Anglais souhaitez-vous suivre ? (Attention, une justification sera demand\\xE9e si vous ne souhaitez pas en suivre)\"), React.createElement(\"input\", {\n        name: \"number_english_courses\",\n        type: \"number\",\n        className: \"questionnaire-form-number\",\n        value: this.props.getAnswers().number_english_courses,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), additionnal_question_about_english_courses, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Combien de cr\\xE9neaux de langues diff\\xE9rentes de l'anglais souhaitez-vous suivre ?\"), React.createElement(\"input\", {\n        name: \"number_other_courses\",\n        type: \"number\",\n        className: \"questionnaire-form-number\",\n        value: this.props.getAnswers().number_other_courses,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }))), React.createElement(QuestionFooter, {\n        handleStepChange: this.props.handleStepChange,\n        getStepList: this.props.getStepList,\n        getStepIndex: this.props.getStepIndex,\n        verificationFunction: this.verificationFunction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return InitialQuestions;\n}(Component);\n\nvar CourseRankingQuestion =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(CourseRankingQuestion, _Component3);\n\n  function CourseRankingQuestion(props) {\n    var _this4;\n\n    _classCallCheck(this, CourseRankingQuestion);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(CourseRankingQuestion).call(this, props));\n\n    _this4.setRanking = function (new_ranking) {\n      var new_answers = _this4.props.getAnswers();\n\n      new_answers[_this4.props.answer] = new_ranking;\n\n      _this4.props.setAnswers(new_answers);\n    };\n\n    _this4.getRanking = function () {\n      return _this4.props.getAnswers()[_this4.props.answer];\n    };\n\n    _this4.handleAddCourseToRanking = function (course) {\n      if (!_this4.getRanking().includes(course)) {\n        var new_ranking = _this4.getRanking();\n\n        new_ranking.push(course);\n\n        _this4.setRanking(new_ranking);\n      }\n    };\n\n    _this4.handleRankUp = function (index_in_ranking) {\n      //fait gagner une place dans le classement\n      if (index_in_ranking > 0) {\n        var new_ranking = _this4.getRanking();\n\n        var course_to_move = _this4.getRanking()[index_in_ranking]; //swap\n\n\n        new_ranking[index_in_ranking] = new_ranking[index_in_ranking - 1];\n        new_ranking[index_in_ranking - 1] = course_to_move;\n\n        _this4.setRanking(new_ranking);\n      }\n    };\n\n    _this4.handleRankDown = function (index_in_ranking) {\n      //fait perdre une place dans le classement\n      if (index_in_ranking < _this4.getRanking().length - 1) {\n        var new_ranking = _this4.getRanking();\n\n        var course_to_move = _this4.getRanking()[index_in_ranking]; //swap\n\n\n        new_ranking[index_in_ranking] = new_ranking[index_in_ranking + 1];\n        new_ranking[index_in_ranking + 1] = course_to_move;\n\n        _this4.setRanking(new_ranking);\n      }\n    };\n\n    _this4.handleDeletionFromRanking = function (index_in_ranking) {\n      var new_ranking = _this4.getRanking();\n\n      new_ranking.splice(index_in_ranking, 1);\n\n      _this4.setRanking(new_ranking);\n    };\n\n    _this4.verificationFunction = function () {\n      var answers = _this4.props.getAnswers();\n\n      var current_error_messages = [];\n      var all_is_right = true;\n\n      if (answers[_this4.props.answer].length === 0) {\n        //classement vide affiche un message d'erreur\n        current_error_messages.push(React.createElement(ErrorMessage, {\n          text: \"Attention ! Vous n'avez class\\xE9 aucun cours ! Veuillez modifier le nombre de cours en d\\xE9but de questionnaire si vous ne souhaitez en suivre aucun dans cette cat\\xE9gorie.\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          },\n          __self: this\n        }));\n        all_is_right = false;\n      }\n\n      _this4.setState({\n        error_messages: current_error_messages\n      });\n\n      return all_is_right;\n    };\n\n    _this4.state = {\n      error_messages: []\n    };\n    return _this4;\n  }\n\n  _createClass(CourseRankingQuestion, [{\n    key: \"render\",\n    value: function render() {\n      var instructions = this.props.instructions;\n\n      if (this.state.error_messages.length > 0) {\n        instructions = this.state.error_messages;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(QuestionInstructions, {\n        text: instructions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"question-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, React.createElement(CourseList, {\n        courses: this.props.courses,\n        handleAddCourseToRanking: this.handleAddCourseToRanking,\n        getSchedules: this.props.getSchedules,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }), React.createElement(CourseRanking, {\n        ranking: this.getRanking(),\n        handleRankUp: this.handleRankUp,\n        handleRankDown: this.handleRankDown,\n        handleDeletionFromRanking: this.handleDeletionFromRanking,\n        getSchedules: this.props.getSchedules,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      })), React.createElement(QuestionFooter, {\n        handleStepChange: this.props.handleStepChange,\n        getStepList: this.props.getStepList,\n        getStepIndex: this.props.getStepIndex,\n        verificationFunction: this.verificationFunction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CourseRankingQuestion;\n}(Component);\n\nvar CourseRanking =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(CourseRanking, _Component4);\n\n  function CourseRanking() {\n    _classCallCheck(this, CourseRanking);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CourseRanking).apply(this, arguments));\n  }\n\n  _createClass(CourseRanking, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var ranking_display = [];\n\n      var _loop = function _loop(index) {\n        ranking_display.push(React.createElement(CourseBox, {\n          key: index,\n          course: _this5.props.ranking[index],\n          getSchedules: _this5.props.getSchedules,\n          buttons: [React.createElement(Button, {\n            text: \"monter\",\n            onClick: function onClick() {\n              return _this5.props.handleRankUp(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 386\n            },\n            __self: this\n          }), React.createElement(Button, {\n            text: \"descendre\",\n            onClick: function onClick() {\n              return _this5.props.handleRankDown(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 387\n            },\n            __self: this\n          }), React.createElement(Button, {\n            text: \"supprimer\",\n            onClick: function onClick() {\n              return _this5.props.handleDeletionFromRanking(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 388\n            },\n            __self: this\n          })],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          },\n          __self: this\n        }));\n      };\n\n      for (var index = 0; index < this.props.ranking.length; index++) {\n        _loop(index);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"course-ranking\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"course-ranking-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, \"Mon classement\"), ranking_display.length === 0 ? React.createElement(\"div\", {\n        className: \"ranking-instructions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"Les cours que vous ajouterez au classement s'afficheront ici.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \" (De haut en bas par ordre de pr\\xE9f\\xE9rence d\\xE9croissante)\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"Seuls les cours que vous avez class\\xE9s pourront vous \\xEAtre attibu\\xE9s.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"ATTENTION ! Veillez \\xE0 classer suffisamment de cours pour \\xEAtre certain(e) d'en avoir en cas de forte demande de vos premiers choix.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"Vous ne maximisez pas vos chances d'avoir vos cours pr\\xE9f\\xE9r\\xE9s en en classant peu, au contraire, vous augmentez celles d'avoir moins de cours que vous ne le souhaitiez !\")) : React.createElement(CourseBoxList, {\n        content: ranking_display,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CourseRanking;\n}(Component);\n\nvar FinalQuestion =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(FinalQuestion, _Component5);\n\n  function FinalQuestion(props) {\n    var _this6;\n\n    _classCallCheck(this, FinalQuestion);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(FinalQuestion).call(this, props));\n    _this6.state = {\n      answers_are_sent: false\n    };\n    return _this6;\n  }\n\n  _createClass(FinalQuestion, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(QuestionInstructions, {\n        text: this.props.instructions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"question-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, this.props.getAnswersAreSent() ? React.createElement(\"div\", {\n        className: \"final-buttons-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, \"Vos r\\xE9ponses ont bien \\xE9t\\xE9 envoy\\xE9es.\") : React.createElement(\"div\", {\n        className: \"final-buttons-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, React.createElement(FinalButton, {\n        text: \"Envoyer les réponses\",\n        onClick: this.props.sendAnswers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }), React.createElement(FinalButton, {\n        text: \"Annuler le questionnaire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }))), this.props.getAnswersAreSent() ? null : React.createElement(QuestionFooter, {\n        handleStepChange: this.props.handleStepChange,\n        getStepList: this.props.getStepList,\n        getStepIndex: this.props.getStepIndex,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return FinalQuestion;\n}(Component);\n\nvar CourseList =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(CourseList, _Component6);\n\n  function CourseList(props) {\n    var _this7;\n\n    _classCallCheck(this, CourseList);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(CourseList).call(this, props));\n\n    _this7.getCurrentFilters = function () {\n      return _this7.state.current_filters;\n    };\n\n    _this7.handleFilterChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      var new_filters = _this7.state.current_filters;\n      new_filters[name] = value;\n\n      _this7.setState({\n        current_filters: new_filters\n      });\n    };\n\n    _this7.buildCriteriaWithOptions = function () {\n      var list_languages = [];\n      var list_schedules = [];\n      var list_levels = [];\n\n      for (var index = 0; index < _this7.props.courses.length; index++) {\n        var current_course = _this7.props.courses[index];\n\n        if (!list_languages.includes(current_course.language)) {\n          list_languages.push(current_course.language);\n        }\n\n        ;\n\n        if (!list_levels.includes(current_course.level)) {\n          list_levels.push(current_course.level);\n        }\n\n        ;\n\n        for (var index_schedule = 0; index_schedule < current_course.creneaux.length; index_schedule++) {\n          var schedule = current_course.creneaux[index_schedule];\n\n          if (!list_schedules.includes(schedule)) {\n            list_schedules.push(schedule);\n          }\n\n          ;\n        }\n      }\n\n      var criteria_with_options = {};\n\n      if (list_languages.length > 1) {\n        criteria_with_options.language = list_languages;\n      }\n\n      if (list_schedules.length > 1) {\n        criteria_with_options.schedule = list_schedules;\n      }\n\n      if (list_levels.length > 1) {\n        criteria_with_options.level = list_levels;\n      }\n\n      return criteria_with_options;\n    };\n\n    _this7.buildListCoursesToDisplay = function () {\n      var list_courses_to_display = _this7.props.courses;\n\n      if (_this7.state.current_filters.language !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.language === _this7.state.current_filters.language;\n        });\n      }\n\n      if (_this7.state.current_filters.schedule !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.creneaux.includes(parseInt(_this7.state.current_filters.schedule));\n        });\n      }\n\n      if (_this7.state.current_filters.level !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.level === _this7.state.current_filters.level;\n        });\n      }\n\n      return list_courses_to_display;\n    };\n\n    _this7.state = {\n      current_filters: {\n        language: \"\",\n        schedule: \"\",\n        level: \"\"\n      },\n      criteria_with_options: _this7.buildCriteriaWithOptions()\n    }; //pas de filtrage par défaut\n\n    return _this7;\n  }\n\n  _createClass(CourseList, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      var list_display = [];\n      var list_courses_to_display = this.buildListCoursesToDisplay();\n\n      var _loop2 = function _loop2(index) {\n        list_display.push(React.createElement(CourseBox, {\n          key: index,\n          course: list_courses_to_display[index],\n          getSchedules: _this8.props.getSchedules,\n          buttons: [React.createElement(Button, {\n            text: \"ajouter au classement\",\n            onClick: function onClick() {\n              return _this8.props.handleAddCourseToRanking(list_courses_to_display[index]);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 490\n            },\n            __self: this\n          })],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 489\n          },\n          __self: this\n        }));\n      };\n\n      for (var index = 0; index < list_courses_to_display.length; index++) {\n        _loop2(index);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"course-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"course-list-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, \"Liste des cours\"), React.createElement(CourseListFilter, {\n        criteriaWithOptions: this.state.criteria_with_options,\n        getCurrentFilters: this.getCurrentFilters,\n        handleFilterChange: this.handleFilterChange,\n        getSchedules: this.props.getSchedules,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }), React.createElement(CourseBoxList, {\n        content: list_display,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CourseList;\n}(Component);\n\nvar CourseListFilter =\n/*#__PURE__*/\nfunction (_Component7) {\n  _inherits(CourseListFilter, _Component7);\n\n  function CourseListFilter() {\n    _classCallCheck(this, CourseListFilter);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CourseListFilter).apply(this, arguments));\n  }\n\n  _createClass(CourseListFilter, [{\n    key: \"render\",\n    value: function render() {\n      var schedules = this.props.getSchedules();\n      var criteria_selection = [];\n\n      for (var criterion in this.props.criteriaWithOptions) {\n        var list_options = [React.createElement(\"option\", {\n          value: \"\",\n          key: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 509\n          },\n          __self: this\n        })];\n\n        for (var index = 0; index < this.props.criteriaWithOptions[criterion].length; index++) {\n          var option_name = this.props.criteriaWithOptions[criterion][index];\n\n          if (criterion !== 'schedule') {\n            list_options.push(React.createElement(\"option\", {\n              value: option_name,\n              key: option_name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 513\n              },\n              __self: this\n            }, option_name));\n          } else {\n            list_options.push(React.createElement(\"option\", {\n              value: option_name,\n              key: option_name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 515\n              },\n              __self: this\n            }, schedules[option_name].day + (schedules[option_name].day === \"hors-créneaux\" ? \"\" : \" \" + schedules[option_name].begin + \"-\" + schedules[option_name].end)));\n          }\n        }\n\n        criteria_selection.push(React.createElement(\"div\", {\n          className: \"course-list-filter-option\",\n          key: criterion,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 520\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 521\n          },\n          __self: this\n        }, criterion === \"language\" ? \"Langue : \" : criterion === \"schedule\" ? \"Horaire : \" : criterion === \"level\" ? \"Niveau : \" : \"erreur\"), React.createElement(\"select\", {\n          name: criterion,\n          type: \"select\",\n          value: this.props.getCurrentFilters()[criterion],\n          onChange: this.props.handleFilterChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 522\n          },\n          __self: this\n        }, list_options)));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"course-list-filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }, criteria_selection);\n    }\n  }]);\n\n  return CourseListFilter;\n}(Component); //structure générale de question\n\n\nvar QuestionInstructions =\n/*#__PURE__*/\nfunction (_Component8) {\n  _inherits(QuestionInstructions, _Component8);\n\n  function QuestionInstructions() {\n    _classCallCheck(this, QuestionInstructions);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QuestionInstructions).apply(this, arguments));\n  }\n\n  _createClass(QuestionInstructions, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"h2\", {\n        className: \"question-instructions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      }, \" \", this.props.text);\n    }\n  }]);\n\n  return QuestionInstructions;\n}(Component);\n\nvar QuestionFooter =\n/*#__PURE__*/\nfunction (_Component9) {\n  _inherits(QuestionFooter, _Component9);\n\n  function QuestionFooter() {\n    _classCallCheck(this, QuestionFooter);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QuestionFooter).apply(this, arguments));\n  }\n\n  _createClass(QuestionFooter, [{\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      var current_step_index = this.props.getStepIndex();\n      var step_list_length = this.props.getStepList().length;\n      var left_button = null;\n      var right_button = null;\n\n      if (current_step_index > 0) {\n        left_button = React.createElement(ChangeStepButton, {\n          text: \"Pr\\xE9c\\xE9dent\",\n          onClick: function onClick() {\n            return _this9.props.handleStepChange(\"previous\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 558\n          },\n          __self: this\n        });\n      }\n\n      var nextButtonEffect = function nextButtonEffect() {\n        _this9.props.handleStepChange(\"next\");\n      };\n\n      if (this.props.verificationFunction) {\n        //s'il y a une vérification à faire, elle est faite avant de passer à la question suivante\n        nextButtonEffect = function nextButtonEffect() {\n          if (_this9.props.verificationFunction()) {\n            _this9.props.handleStepChange(\"next\");\n          }\n        };\n      }\n\n      if (current_step_index < step_list_length - 1) {\n        right_button = React.createElement(ChangeStepButton, {\n          text: \"Suivant\",\n          onClick: nextButtonEffect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 570\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"question-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        className: \"question-footer-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, \" \", left_button), React.createElement(\"div\", {\n        className: \"question-footer-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, right_button));\n    }\n  }]);\n\n  return QuestionFooter;\n}(Component); //classes utiles\n\n\nvar CourseBox =\n/*#__PURE__*/\nfunction (_Component10) {\n  _inherits(CourseBox, _Component10);\n\n  function CourseBox() {\n    _classCallCheck(this, CourseBox);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CourseBox).apply(this, arguments));\n  }\n\n  _createClass(CourseBox, [{\n    key: \"render\",\n    value: function render() {\n      var schedules = this.props.getSchedules();\n      var current_course_schedules_list = this.props.course.creneaux.map(function (schedule_index) {\n        return React.createElement(\"p\", {\n          key: schedule_index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 582\n          },\n          __self: this\n        }, schedules[schedule_index].day + (schedules[schedule_index].day === \"hors-créneaux\" ? \"\" : \" \" + schedules[schedule_index].begin + \"-\" + schedules[schedule_index].end));\n      });\n      return React.createElement(\"div\", {\n        className: \"course-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, this.props.course.name), \" \", React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, this.props.course.language), current_course_schedules_list), \" \", React.createElement(\"div\", {\n        className: \"course-box-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      }, this.props.buttons));\n    }\n  }]);\n\n  return CourseBox;\n}(Component);\n\nvar Button =\n/*#__PURE__*/\nfunction (_Component11) {\n  _inherits(Button, _Component11);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593\n        },\n        __self: this\n      }, this.props.text);\n    }\n  }]);\n\n  return Button;\n}(Component);\n\nvar ChangeStepButton =\n/*#__PURE__*/\nfunction (_Component12) {\n  _inherits(ChangeStepButton, _Component12);\n\n  function ChangeStepButton() {\n    _classCallCheck(this, ChangeStepButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ChangeStepButton).apply(this, arguments));\n  }\n\n  _createClass(ChangeStepButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"change-step-button\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601\n        },\n        __self: this\n      }, this.props.text);\n    }\n  }]);\n\n  return ChangeStepButton;\n}(Component);\n\nvar FinalButton =\n/*#__PURE__*/\nfunction (_Component13) {\n  _inherits(FinalButton, _Component13);\n\n  function FinalButton() {\n    _classCallCheck(this, FinalButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FinalButton).apply(this, arguments));\n  }\n\n  _createClass(FinalButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"final-button\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }, this.props.text);\n    }\n  }]);\n\n  return FinalButton;\n}(Component);\n\nvar ErrorMessage =\n/*#__PURE__*/\nfunction (_Component14) {\n  _inherits(ErrorMessage, _Component14);\n\n  function ErrorMessage() {\n    _classCallCheck(this, ErrorMessage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ErrorMessage).apply(this, arguments));\n  }\n\n  _createClass(ErrorMessage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"error-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: error_panel,\n        alt: \"error_panel\",\n        style: {\n          height: \"5vh\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }), this.props.text);\n    }\n  }]);\n\n  return ErrorMessage;\n}(Component);\n\nvar CourseBoxList =\n/*#__PURE__*/\nfunction (_Component15) {\n  _inherits(CourseBoxList, _Component15);\n\n  function CourseBoxList() {\n    _classCallCheck(this, CourseBoxList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CourseBoxList).apply(this, arguments));\n  }\n\n  _createClass(CourseBoxList, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"course-box-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626\n        },\n        __self: this\n      }, this.props.content);\n    }\n  }]);\n\n  return CourseBoxList;\n}(Component);\n\nexport default Questionnaire;","map":{"version":3,"sources":["/home/nathan/ENPC/ProDep/language-allocation/front/src/Questionnaire.js"],"names":["React","Component","axios","dummyData","url","error_panel","queryString","Cookies","Questionnaire","props","buildStepList","answers","step_list","number_english_courses","push","number_other_courses","getStepIndex","state","step_index","getUserName","data","user_name","handleStepChange","direction","setState","length","getStepList","setStepList","new_step_list","getAnswers","setAnswers","new_answers","getAnswersAreSent","answers_are_sent","sendAnswers","getSchedules","schedules","courses","user_id","get","user_vows","is_loaded","year","TOEIC","justification_no_english","justification_no_english_text","english_courses_ranking","other_courses_ranking","remove","path","then","result","new_state","error","step","current_step_name","list_english_courses","filter","value","index","arr","language","list_other_courses","InitialQuestions","handleInputChange","event","target","type","Math","max","substring","name","verificationFunction","all_questions_answered_properly","current_error_messages","error_messages","additionnal_question_about_english_courses","instructions","CourseRankingQuestion","setRanking","new_ranking","answer","getRanking","handleAddCourseToRanking","course","includes","handleRankUp","index_in_ranking","course_to_move","handleRankDown","handleDeletionFromRanking","splice","all_is_right","CourseRanking","ranking_display","ranking","FinalQuestion","CourseList","getCurrentFilters","current_filters","handleFilterChange","new_filters","buildCriteriaWithOptions","list_languages","list_schedules","list_levels","current_course","level","index_schedule","creneaux","schedule","criteria_with_options","buildListCoursesToDisplay","list_courses_to_display","parseInt","list_display","CourseListFilter","criteria_selection","criterion","criteriaWithOptions","list_options","option_name","day","begin","end","QuestionInstructions","text","QuestionFooter","current_step_index","step_list_length","left_button","right_button","nextButtonEffect","CourseBox","current_course_schedules_list","map","schedule_index","buttons","Button","onClick","ChangeStepButton","FinalButton","ErrorMessage","height","CourseBoxList","content"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport dummyData from \"./DummyData\";\nimport url from \"./url\";\nimport error_panel from './images/error_panel.png';\nimport './Questionnaire.css';\nimport queryString from 'query-string'\nimport Cookies from 'js-cookie';\n\nclass Questionnaire extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { data: {courses: dummyData, schedules: [], user_id: Cookies.get('user_id'), user_name: Cookies.get('user_name'), user_vows: Cookies.get('user_vows')}, is_loaded: false, step_list: [\"initial_questions\"], step_index: 0, answers_are_sent: false,answers: { year: '', TOEIC: '', justification_no_english: '', justification_no_english_text: '', number_english_courses: 1, number_other_courses: 0, english_courses_ranking:[], other_courses_ranking:[]}};\n        Cookies.remove('user_id', { path: '' });\n        Cookies.remove('user_name', { path: '' });\n        Cookies.remove('user_vows', { path: '' });\n      }\n\n\n    componentDidMount(){\n      axios.get(url+\"courses/\")\n      .then(\n        (result) => {\n          let new_state=this.state;\n          new_state.data.courses=result.data.result\n          new_state.is_loaded=true\n          this.setState({\n            new_state\n          });\n        },\n        (error) => {\n          this.setState({\n            is_loaded: false\n          });\n        }\n      );\n      axios.get(url+\"creneaux/\")\n      .then(\n        (result) => {\n          let new_state=this.state;\n          new_state.data.schedules=result.data.result\n          new_state.is_loaded=true\n          this.setState({\n            new_state\n          });\n        },\n        (error) => {\n          this.setState({\n            is_loaded: false\n          });\n        }\n      );\n\n      //this.setState({data: dummyData})\n    }\n\n    buildStepList=(answers)=>{\n      let step_list=[\"initial_questions\"];\n      if(answers.number_english_courses>0){\n        step_list.push(\"ranking_english_courses\");\n      }\n      if(answers.number_other_courses>0){\n        step_list.push(\"ranking_other_courses\");\n      }\n      step_list.push(\"final_question\")\n      return step_list\n    }\n\n    getStepIndex=()=>{return this.state.step_index;}\n\n    getUserName=()=>{return this.state.data.user_name;}\n\n    handleStepChange = (direction) => {\n      if(direction===\"previous\"&&this.state.step_index>0){\n        this.setState({step_index: this.state.step_index-1});\n      } else if(direction===\"next\"&&this.state.step_index<this.state.step_list.length-1){\n        this.setState({step_index: this.state.step_index+1});\n      }\n    }\n\n    getStepList=()=>{return this.state.step_list;}\n\n    setStepList=(new_step_list)=>{this.setState({step_list: new_step_list});}\n\n    getAnswers=()=>{ return this.state.answers;}\n\n    setAnswers=(new_answers)=>{\n      let new_step_list=this.buildStepList(new_answers);\n      this.setState({answers: new_answers, step_list: new_step_list});\n    }\n\n    getAnswersAreSent=()=>{\n        return this.state.answers_are_sent;\n    }\n\n    sendAnswers=()=>{\n        //ajouter requête\n        this.setState({answers_are_sent: true});\n    }\n\n    getSchedules = ()=>{\n      return this.state.data.schedules;\n    }\n\n    render() {\n        let data=this.state.data;\n        let step=null;\n        let current_step_name=this.state.step_list[this.state.step_index];\n        if(current_step_name===\"initial_questions\"){\n          step=<InitialQuestions\n          getStepIndex={this.getStepIndex}\n          getUserName = {this.getUserName}\n          handleStepChange={this.handleStepChange}\n          getStepList={this.getStepList}\n          setStepList={this.setStepList}\n          getAnswers={this.getAnswers}\n          setAnswers={this.setAnswers}\n          />;\n        }else if(current_step_name===\"ranking_english_courses\"){\n          let list_english_courses=data.courses.filter(function(value, index, arr){return value.language===\"Anglais\";});\n          step=<CourseRankingQuestion\n          instructions=\"Veuillez ordonner les cours d'Anglais par ordre de préférence\"\n          courses={list_english_courses}\n          key=\"english_courses_ranking\"\n          answer=\"english_courses_ranking\"\n          getStepIndex={this.getStepIndex}\n          handleStepChange={this.handleStepChange}\n          getStepList={this.getStepList}\n          setStepList={this.setStepList}\n          getAnswers={this.getAnswers}\n          setAnswers={this.setAnswers}\n          getSchedules={this.getSchedules}\n          />;\n        }else if(current_step_name===\"ranking_other_courses\"){\n          let list_other_courses=data.courses.filter(function(value, index, arr){return value.language!==\"Anglais\";});\n          step=<CourseRankingQuestion\n          instructions=\"Veillez classer les autres cours par ordre de préférence\"\n          courses={list_other_courses}\n          key=\"other_courses_ranking\"\n          answer=\"other_courses_ranking\"\n          getStepIndex={this.getStepIndex}\n          handleStepChange={this.handleStepChange}\n          getStepList={this.getStepList}\n          setStepList={this.setStepList}\n          getAnswers={this.getAnswers}\n          setAnswers={this.setAnswers}\n          getSchedules={this.getSchedules}\n          />;\n        }else if(current_step_name===\"final_question\"){\n            step=<FinalQuestion\n            instructions=\"Ce questionnaire est maintenant terminé. Veuillez envoyer vos réponses pour que celles-ci soient prises en compte.\"\n            key=\"final-question\"\n            getStepIndex={this.getStepIndex}\n            handleStepChange={this.handleStepChange}\n            getStepList={this.getStepList}\n            setStepList={this.setStepList}\n            getAnswersAreSent={this.getAnswersAreSent}\n            sendAnswers={this.sendAnswers}\n            />;\n          }\n      return (\n        <div className=\"questionnaire\">{step}</div>\n      );\n    }\n  }\n\nclass InitialQuestions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {error_messages: []};\n  }\n\n  handleInputChange= (event) => {\n    const target = event.target;\n    const value = target.type === 'number' ? Math.max(target.value, 0) : (target.type==='text' ? target.value.substring(0,200) : target.value);\n    const name = target.name;\n\n    let new_answers= this.props.getAnswers();\n    new_answers[name]=value;\n    this.props.setAnswers(new_answers);\n  }\n\n  verificationFunction =()=>{\n    let answers=this.props.getAnswers();\n    let all_questions_answered_properly=(answers.year!=='')&&(answers.TOEIC!=='')&&!((answers.number_english_courses===0)&&(answers.justification_no_english===''))&&!((answers.number_english_courses===0)&&(answers.justification_no_english==='Autre')&&(answers.justification_no_english_text===''));\n    let current_error_messages=[];\n    if(!all_questions_answered_properly){\n      current_error_messages.push(<ErrorMessage text=\"Veuillez répondre à toutes les questions de cette page.\"/>);\n    }\n    this.setState({error_messages: current_error_messages});\n    //ajouter d'autres erreurs éventuelles\n    return all_questions_answered_properly;\n  }\n\n  render() {\n    let additionnal_question_about_english_courses=[];\n    if(this.props.getAnswers().number_english_courses<1)\n    {\n      additionnal_question_about_english_courses.push(\n        [\n        <label>Veuillez justifier l'absence de cours d'anglais dans vos choix.</label>,\n        <select\n          name=\"justification_no_english\"\n          type='select'\n          className=\"questionnaire-form-select\"\n          value={this.props.getAnswers().justification_no_english}\n          onChange={this.handleInputChange} >\n          <option value=\"\" selected disabled hidden>Choisir</option>\n          <option value=\"Je suis le CIM ou j'ai validé le CIM\">Je suis le CIM ou j'ai validé le CIM</option>\n          <option value=\"J'ai validé tous mes ECTS d'Anglais et l'obligation TOEIC\">J'ai validé tous mes ECTS d'Anglais et l'obligation TOEIC</option>\n          <option value='Je dois me concentrer sur ma LV2 ce semestre'>Je dois me concentrer sur ma LV2 ce semestre</option>\n          <option value=\"Je suis des cours hors ENPC\">Je suis des cours hors ENPC</option>\n          <option value=\"Je ne suis pas à l'ENPC ce semestre\">Je ne suis pas à l'ENPC ce semestre</option>\n          <option value=\"Je suis stagiaire étranger(e)\">Je suis stagiaire étranger(e)</option>\n          <option value='Autre'>Autre</option>\n        </select>,\n        <br/>\n        ]\n      );\n    }\n    if((this.props.getAnswers().number_english_courses<1)&&(this.props.getAnswers().justification_no_english===\"Autre\"))\n    {\n      additionnal_question_about_english_courses.push(\n      [\n      <label>Veuillez préciser cette autre raison.</label>,\n      <input\n        name=\"justification_no_english_text\"\n        type=\"text\"\n        className=\"questionnaire-form-text\"\n        value={this.props.getAnswers().justification_no_english_text}\n        onChange={this.handleInputChange} />,\n        <br/>\n      ]\n      );\n    }\n    let instructions=\"Bienvenue \"+this.props.getUserName()+\". Veuillez répondre aux questions suivantes. Il vous sera demandé de classer les cours par ordre de préférence dans la suite du questionnaire.\";\n    if(this.state.error_messages.length>0){\n      instructions=this.state.error_messages;\n    }\n    return (\n      <div className=\"question\">\n      <QuestionInstructions text={instructions}/>\n      <div className=\"question-content\">\n      <form className=\"initial-questions-form\">\n        <label>\n          En quelle année êtes-vous ? </label>\n          <select\n            name=\"year\"\n            type='select'\n            className=\"questionnaire-form-select\"\n            value={this.props.getAnswers().year}\n            onChange={this.handleInputChange} >\n            <option value=\"\" selected disabled hidden>Choisir</option>\n            <option value='1A'>1A</option>\n            <option value='2/3A'>2/3A</option>\n            <option value='Cycle Master'>Cycle Master</option>\n          </select>\n          <br/>\n        <label>\n          Quelle note avez-vous obtenue au TOEIC ? </label>\n          <select\n            name=\"TOEIC\"\n            type='select'\n            className=\"questionnaire-form-select\"\n            value={this.props.getAnswers().TOEIC}\n            onChange={this.handleInputChange} >\n            <option value=\"\" selected disabled hidden>Choisir</option>\n            <option value='moins de 650'>moins de 650</option>\n            <option value='entre 650 et 785'>entre 650 et 785</option>\n            <option value='plus de 785'>plus de 785</option>\n          </select>\n          <br/>\n        <label>\n          Combien de cours d'Anglais souhaitez-vous suivre ? (Attention, une justification sera demandée si vous ne souhaitez pas en suivre)</label>\n          <input\n            name=\"number_english_courses\"\n            type=\"number\"\n            className=\"questionnaire-form-number\"\n            value={this.props.getAnswers().number_english_courses}\n            onChange={this.handleInputChange} />\n          <br/>\n        {additionnal_question_about_english_courses}\n        <label>\n          Combien de créneaux de langues différentes de l'anglais souhaitez-vous suivre ?</label>\n          <input\n            name=\"number_other_courses\"\n            type=\"number\"\n            className=\"questionnaire-form-number\"\n            value={this.props.getAnswers().number_other_courses}\n            onChange={this.handleInputChange} />\n      </form>\n      </div>\n      <QuestionFooter handleStepChange={this.props.handleStepChange} getStepList={this.props.getStepList} getStepIndex={this.props.getStepIndex} verificationFunction={this.verificationFunction}/>\n      </div>\n    );\n  }\n}\n\nclass CourseRankingQuestion extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {error_messages: []};\n      }\n\n    setRanking=(new_ranking)=>{\n      let new_answers=this.props.getAnswers();\n      new_answers[this.props.answer]=new_ranking;\n      this.props.setAnswers(new_answers)\n    }\n\n    getRanking=()=>{\n      return this.props.getAnswers()[this.props.answer];\n    }\n\n    handleAddCourseToRanking = course =>{\n        if(!(this.getRanking().includes(course))){\n            let new_ranking=this.getRanking();\n            new_ranking.push(course);\n            this.setRanking(new_ranking);\n        }\n    }\n\n    handleRankUp = (index_in_ranking) =>{//fait gagner une place dans le classement\n        if(index_in_ranking>0){\n            let new_ranking=this.getRanking();\n            let course_to_move=this.getRanking()[index_in_ranking];//swap\n            new_ranking[index_in_ranking]=new_ranking[index_in_ranking-1];\n            new_ranking[index_in_ranking-1]=course_to_move;\n            this.setRanking(new_ranking);\n        }\n    }\n\n    handleRankDown = (index_in_ranking) =>{//fait perdre une place dans le classement\n        if(index_in_ranking<this.getRanking().length-1){\n          let new_ranking=this.getRanking();\n          let course_to_move=this.getRanking()[index_in_ranking];//swap\n          new_ranking[index_in_ranking]=new_ranking[index_in_ranking+1];\n          new_ranking[index_in_ranking+1]=course_to_move;\n          this.setRanking(new_ranking);\n      }\n    }\n\n    handleDeletionFromRanking =(index_in_ranking)=>{\n        let new_ranking=this.getRanking();\n        new_ranking.splice(index_in_ranking, 1);\n        this.setRanking(new_ranking);\n    }\n\n    verificationFunction=()=>{\n        let answers = this.props.getAnswers();\n        let current_error_messages=[];\n        let all_is_right=true;\n        if(answers[this.props.answer].length===0){//classement vide affiche un message d'erreur\n            current_error_messages.push(<ErrorMessage text=\"Attention ! Vous n'avez classé aucun cours ! Veuillez modifier le nombre de cours en début de questionnaire si vous ne souhaitez en suivre aucun dans cette catégorie.\"/>);\n            all_is_right=false;\n        }\n        this.setState({error_messages: current_error_messages});\n        return all_is_right;\n    }\n\n    render() {\n        let instructions=this.props.instructions;\n        if(this.state.error_messages.length>0){\n            instructions=this.state.error_messages;\n          }\n      return (\n        <div className=\"question\">\n          <QuestionInstructions text={instructions}/>\n          <div className=\"question-content\">\n              <CourseList courses={this.props.courses} handleAddCourseToRanking={this.handleAddCourseToRanking} getSchedules={this.props.getSchedules}/>\n              <CourseRanking ranking= {this.getRanking()} handleRankUp={this.handleRankUp} handleRankDown={this.handleRankDown} handleDeletionFromRanking={this.handleDeletionFromRanking} getSchedules={this.props.getSchedules}/>\n          </div>\n          <QuestionFooter handleStepChange={this.props.handleStepChange} getStepList={this.props.getStepList} getStepIndex={this.props.getStepIndex} verificationFunction={this.verificationFunction}/>\n        </div>\n      );\n    }\n  }\n\nclass CourseRanking extends Component {\n    render() {\n        let ranking_display=[];\n        for(let index=0; index<this.props.ranking.length; index++){\n            ranking_display.push(\n            <CourseBox key={index} course={this.props.ranking[index]} getSchedules={this.props.getSchedules} buttons={[\n                <Button text=\"monter\" onClick={()=>this.props.handleRankUp(index)}/>,\n                <Button text=\"descendre\" onClick={()=>this.props.handleRankDown(index)}/>,\n                <Button text=\"supprimer\" onClick={()=>this.props.handleDeletionFromRanking(index)}/>]}/>\n            );\n        }\n      return (\n      <div className=\"course-ranking\"><h1 className=\"course-ranking-header\">Mon classement</h1>{ranking_display.length===0 ?\n        <div className=\"ranking-instructions\"><p>Les cours que vous ajouterez au classement s'afficheront ici.</p><p> (De haut en bas par ordre de préférence décroissante)</p><p>Seuls les cours que vous avez classés pourront vous être attibués.</p><p>ATTENTION ! Veillez à classer suffisamment de cours pour être certain(e) d'en avoir en cas de forte demande de vos premiers choix.</p><p>Vous ne maximisez pas vos chances d'avoir vos cours préférés en en classant peu, au contraire, vous augmentez celles d'avoir moins de cours que vous ne le souhaitiez !</p></div>:\n        <CourseBoxList content={ranking_display}/>}</div>\n      );\n    }\n  }\n\n\nclass FinalQuestion extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {answers_are_sent: false};\n      }\n\n    render() {\n        return (\n          <div className=\"question\">\n            <QuestionInstructions text={this.props.instructions}/>\n            <div className=\"question-content\">\n            {this.props.getAnswersAreSent() ? <div className=\"final-buttons-box\">Vos réponses ont bien été envoyées.</div> :\n                <div className=\"final-buttons-box\">\n                <FinalButton text={\"Envoyer les réponses\"} onClick={this.props.sendAnswers}/>\n                <FinalButton text={\"Annuler le questionnaire\"}/>\n                </div>}\n            </div>\n            {this.props.getAnswersAreSent() ? null : <QuestionFooter handleStepChange={this.props.handleStepChange} getStepList={this.props.getStepList} getStepIndex={this.props.getStepIndex}/>}\n          </div>\n        );\n      }\n  }\n\nclass CourseList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {current_filters: {language:\"\", schedule:\"\", level:\"\"}, criteria_with_options: this.buildCriteriaWithOptions()};//pas de filtrage par défaut\n  }\n\n  getCurrentFilters=()=>{\n    return this.state.current_filters;\n  }\n\n  handleFilterChange=(event) => {\n    const target = event.target;\n    const value =  target.value;\n    const name = target.name;\n\n    let new_filters= this.state.current_filters;\n    new_filters[name]=value;\n    this.setState({current_filters: new_filters});\n  }\n\n  buildCriteriaWithOptions=()=>{\n    let list_languages=[];\n    let list_schedules=[];\n    let list_levels=[];\n    for(let index=0; index<this.props.courses.length; index++){\n      let current_course=this.props.courses[index];\n      if(!list_languages.includes(current_course.language)){list_languages.push(current_course.language)};\n      if(!list_levels.includes(current_course.level)){list_levels.push(current_course.level)};\n      for(let index_schedule=0; index_schedule<current_course.creneaux.length; index_schedule++){\n        let schedule=current_course.creneaux[index_schedule];\n        if(!list_schedules.includes(schedule)){list_schedules.push(schedule)};\n      }\n    }\n    let criteria_with_options ={};\n    if(list_languages.length>1){\n      criteria_with_options.language=list_languages;\n    }\n    if(list_schedules.length>1){\n      criteria_with_options.schedule=list_schedules;\n    }\n    if(list_levels.length>1){\n      criteria_with_options.level=list_levels;\n    }\n    return criteria_with_options;\n\n  }\n\n  buildListCoursesToDisplay=()=>{\n    let list_courses_to_display=this.props.courses;\n    if(this.state.current_filters.language!==\"\"){\n      list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.language===this.state.current_filters.language;});\n    }\n    if(this.state.current_filters.schedule!==\"\"){\n      list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.creneaux.includes(parseInt(this.state.current_filters.schedule));});\n    }\n    if(this.state.current_filters.level!==\"\"){\n      list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.level===this.state.current_filters.level;});\n    }\n    return list_courses_to_display;\n  }\n\n    render() {\n        let list_display=[];\n        let list_courses_to_display=this.buildListCoursesToDisplay();\n        for(let index=0; index<list_courses_to_display.length; index++){\n            list_display.push(\n            <CourseBox key={index} course={list_courses_to_display[index]} getSchedules={this.props.getSchedules} buttons={[\n                <Button text=\"ajouter au classement\" onClick={()=>this.props.handleAddCourseToRanking(list_courses_to_display[index])}/>\n                ]}/>\n            );\n        }\n      return (\n        <div className=\"course-list\">\n          <h1 className=\"course-list-header\">Liste des cours</h1>\n          <CourseListFilter criteriaWithOptions={this.state.criteria_with_options} getCurrentFilters={this.getCurrentFilters} handleFilterChange={this.handleFilterChange} getSchedules={this.props.getSchedules}/>\n          <CourseBoxList content={list_display}/>\n        </div>\n      );\n    }\n  }\n\nclass CourseListFilter extends Component {\n  render() {\n    let schedules=this.props.getSchedules();\n    let criteria_selection=[];\n    for(let criterion in this.props.criteriaWithOptions){\n      let list_options=[<option value=\"\" key={\"\"}></option>];\n      for(let index=0; index<this.props.criteriaWithOptions[criterion].length; index++){\n        let option_name=this.props.criteriaWithOptions[criterion][index];\n        if(criterion!=='schedule'){\n          list_options.push(<option value={option_name} key={option_name}>{option_name}</option>);\n        } else {\n          list_options.push(<option value={option_name} key={option_name}>{schedules[option_name].day+(schedules[option_name].day===\"hors-créneaux\"? \"\":(\" \"+schedules[option_name].begin+\"-\"+schedules[option_name].end))}</option>);\n        }\n\n      }\n      criteria_selection.push(\n        <div className=\"course-list-filter-option\" key={criterion}>\n        <label >{criterion===\"language\"?\"Langue : \":(criterion===\"schedule\"?\"Horaire : \":(criterion===\"level\"?\"Niveau : \":\"erreur\"))}</label>\n        <select\n            name={criterion}\n            type='select'\n            value={this.props.getCurrentFilters()[criterion]}\n            onChange={this.props.handleFilterChange} >\n            {list_options}\n          </select>\n      </div>\n\n      );\n    }\n\n\n  return (\n    <div className=\"course-list-filter\">{criteria_selection}</div>\n  );\n}\n}\n\n//structure générale de question\nclass QuestionInstructions extends Component {\n    render() {\n      return (\n        <h2 className=\"question-instructions\"> {this.props.text}</h2>\n      );\n    }\n  }\n\nclass QuestionFooter extends Component {\n\n    render() {\n      let current_step_index=this.props.getStepIndex();\n      let step_list_length=this.props.getStepList().length;\n      let left_button=null;\n      let right_button=null;\n      if(current_step_index>0){\n        left_button=<ChangeStepButton text=\"Précédent\" onClick={()=>this.props.handleStepChange(\"previous\")}/>\n      }\n      let nextButtonEffect=()=>{this.props.handleStepChange(\"next\")}\n      if(this.props.verificationFunction){//s'il y a une vérification à faire, elle est faite avant de passer à la question suivante\n        nextButtonEffect=()=>{\n          if(this.props.verificationFunction())\n          {\n            this.props.handleStepChange(\"next\");\n          }\n        }\n      }\n      if(current_step_index<step_list_length-1){\n        right_button=<ChangeStepButton text=\"Suivant\" onClick={nextButtonEffect }/>\n      }\n      return (\n        <div className=\"question-footer\"> <div className=\"question-footer-left\"> {left_button}</div><div className=\"question-footer-right\">{right_button}</div></div>\n      );\n    }\n  }\n\n//classes utiles\nclass CourseBox extends Component {\n    render() {\n      let schedules=this.props.getSchedules();\n      let current_course_schedules_list=this.props.course.creneaux.map(schedule_index => <p key={schedule_index}>{schedules[schedule_index].day+(schedules[schedule_index].day===\"hors-créneaux\"?\"\":(\" \"+schedules[schedule_index].begin+\"-\"+schedules[schedule_index].end))}</p>)\n      return (\n        <div className=\"course-box\"> <div><h2>{this.props.course.name}</h2> <h3>{this.props.course.language}</h3>{current_course_schedules_list}</div> <div className=\"course-box-buttons\">{this.props.buttons}</div></div>\n      );\n    }\n  }\n\n\nclass Button extends Component {\n  render() {\n    return (\n      <button className=\"button\" onClick={this.props.onClick}>{this.props.text}</button>\n    );\n  }\n}\n\nclass ChangeStepButton extends Component {\n  render() {\n    return (\n      <button className=\"change-step-button\" onClick={this.props.onClick}>{this.props.text}</button>\n    );\n  }\n}\n\nclass FinalButton extends Component {\n    render() {\n      return (\n        <button className=\"final-button\" onClick={this.props.onClick}>{this.props.text}</button>\n      );\n    }\n  }\n\n\nclass ErrorMessage extends Component {\n  render() {\n    return (\n      <div className=\"error-message\" ><img src={error_panel} alt=\"error_panel\" style={{height: \"5vh\"}}/>{this.props.text}</div>\n    );\n  }\n}\n\nclass CourseBoxList extends Component {\n  render() {\n    return (\n      <div className=\"course-box-list\" >{this.props.content}</div>\n    );\n  }\n}\n\n\nexport default Questionnaire;\n"]},"metadata":{},"sourceType":"module"}