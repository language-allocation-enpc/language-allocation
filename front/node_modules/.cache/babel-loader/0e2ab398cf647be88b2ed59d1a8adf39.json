{"ast":null,"code":"import _classCallCheck from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/src/CourseEditing.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport url from \"./url\";\nimport \"./CourseEditing.css\";\nimport plus_button from \"./images/plus-button.png\";\nimport suppr_button from \"./images/suppr-button.png\";\nimport edit_button from \"./images/edit-button.png\";\nimport background_wall from \"./images/background_image.jpg\";\n\nvar CourseEditing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CourseEditing, _Component);\n\n  function CourseEditing(props) {\n    var _this;\n\n    _classCallCheck(this, CourseEditing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CourseEditing).call(this, props));\n\n    _this.handlePageChange = function (page_name) {\n      var new_state = _this.state;\n      new_state.page = page_name;\n\n      _this.setState(new_state);\n    };\n\n    _this.get_data = function () {\n      return _this.state.data;\n    };\n\n    _this.get_creneaux = function () {\n      return _this.state.creneaux;\n    };\n\n    _this.set_data = function (course) {\n      axios.post(url + \"/courses/\" + course.id, {\n        name: course.name,\n        language: course.language,\n        creneaux: course.creneaux,\n        min_students: course.min_students,\n        max_students: course.max_students\n      });\n    };\n\n    _this.add_data = function (course) {\n      axios.put(url + \"/courses/\", {\n        name: course.name,\n        language: course.language,\n        creneaux: course.creneaux,\n        min_students: course.min_students,\n        max_students: course.max_students\n      });\n    };\n\n    _this.get_id = function () {\n      return _this.state.id_course;\n    };\n\n    _this.delete_course = function (index) {\n      axios.delete(url + \"/courses/\" + index);\n    };\n\n    _this.confirm = function (index) {\n      var resultat = window.confirm(\"Voulez vous vraiment supprimer ce cours ?\");\n\n      if (resultat === true) {\n        _this.delete_course(index);\n      }\n    };\n\n    _this.add_course = function () {\n      var new_state = _this.state;\n      new_state.page = \"add\";\n\n      _this.setState(new_state);\n    };\n\n    _this.edit_course = function (id) {\n      var new_state = _this.state;\n      new_state.id_course = id;\n      new_state.page = \"edit\";\n\n      _this.setState(new_state);\n    };\n\n    _this.state = {\n      token: window.sessionStorage.getItem(\"jwt_token\"),\n      isAuth: false,\n      page: \"Cours\",\n      data: [],\n      id_course: 0,\n      creneaux: []\n    };\n    return _this;\n  }\n  /* async componentDidMount() {\n     const { data: data_serv } = await axios.get(url + \"//\");\n     console.log(data_serv)\n     let new_state = this.state;\n     new_state.data=data_serv;\n    this.setState(new_state);\n   }*/\n\n\n  _createClass(CourseEditing, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(url + 'admin/check-auth', {\n        withCredentials: true,\n        headers: {\n          Authorization: 'Bearer ' + this.state.token\n        }\n      }).then(function (res) {\n        _this2.state.isAuth = true;\n      }, function (err) {\n        _this2.state.isAuth = false;\n\n        _this2.props.history.push('/admin/login');\n      });\n      axios.get(url + \"creneaux/\", {\n        withCredentials: false\n      }).then(function (res) {\n        var creneaux = res.data.result;\n        var new_state = _this2.state;\n        new_state.creneaux = creneaux;\n\n        _this2.setState(new_state);\n      });\n      axios.get(url + \"courses/\", {\n        withCredentials: false\n      }).then(function (res) {\n        var data_serv = res.data.result;\n        var new_state = _this2.state;\n        new_state.data = data_serv;\n\n        _this2.setState(new_state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var page = null;\n\n      if (this.state.page === \"Cours\") {\n        page = React.createElement(Cours, {\n          get_data: this.get_data,\n          delete_course: this.delete_course,\n          edit_course: this.edit_course,\n          add_course: this.add_course,\n          get_creneaux: this.get_creneaux,\n          confirm: this.confirm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"login\") {\n        page = React.createElement(LoginPage, {\n          handlePageChange: this.handlePageChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"edit\") {\n        page = React.createElement(Edit, {\n          handlePageChange: this.handlePageChange,\n          get_id: this.get_id,\n          get_data: this.get_data,\n          set_data: this.set_data,\n          get_creneaux: this.get_creneaux,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        });\n      } else if (this.state.page === \"add\") {\n        page = React.createElement(Add, {\n          handlePageChange: this.handlePageChange,\n          add_data: this.add_data,\n          get_creneaux: this.get_creneaux,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, page);\n    }\n  }]);\n\n  return CourseEditing;\n}(Component);\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(LoginPage, _Component2);\n\n  function LoginPage() {\n    _classCallCheck(this, LoginPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).apply(this, arguments));\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"nothing for the moment\");\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nvar Cours =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(Cours, _Component3);\n\n  function Cours(props) {\n    var _this3;\n\n    _classCallCheck(this, Cours);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Cours).call(this, props));\n\n    _this3.getCurrentFilters = function () {\n      return _this3.state.current_filters;\n    };\n\n    _this3.handleFilterChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      var new_filters = _this3.state.current_filters;\n      new_filters[name] = value;\n\n      _this3.setState({\n        current_filters: new_filters\n      });\n    };\n\n    _this3.buildCriteriaWithOptions = function () {\n      var newdata = _this3.props.get_data();\n\n      var L_creneaux = _this3.props.get_creneaux();\n\n      var list_languages = [];\n      var list_schedules = [];\n      console.log(newdata);\n\n      for (var index = 0; index < newdata.length; index++) {\n        console.log(\"test\");\n        var current_course = newdata[index];\n\n        if (!list_languages.includes(current_course.language)) {\n          list_languages.push(current_course.language);\n        }\n\n        ;\n\n        for (var index_schedule = 0; index_schedule < L_creneaux.length; index_schedule++) {\n          var schedule = L_creneaux[index_schedule].id;\n\n          if (!list_schedules.includes(schedule)) {\n            list_schedules.push(schedule);\n          }\n\n          ;\n        }\n      }\n\n      var criteria_with_options = {};\n\n      if (list_languages.length > 1) {\n        criteria_with_options.language = list_languages;\n      }\n\n      if (list_schedules.length > 1) {\n        criteria_with_options.schedule = list_schedules;\n      }\n\n      return criteria_with_options;\n    };\n\n    _this3.buildListCoursesToDisplay = function () {\n      var list_courses_to_display = _this3.props.get_data();\n\n      if (_this3.state.current_filters.language !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.language === _this3.state.current_filters.language;\n        });\n      }\n\n      if (_this3.state.current_filters.schedule !== \"\") {\n        list_courses_to_display = list_courses_to_display.filter(function (value, index, arr) {\n          return value.creneaux.includes(parseInt(_this3.state.current_filters.schedule));\n        });\n      }\n\n      return list_courses_to_display;\n    };\n\n    _this3.state = {\n      current_filters: {\n        language: \"\",\n        schedule: \"\"\n      },\n      criteria_with_options: _this3.buildCriteriaWithOptions()\n    }; //pas de filtrage par défaut\n\n    return _this3;\n  }\n\n  _createClass(Cours, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      this.state.criteria_with_options = this.buildCriteriaWithOptions();\n      var L_creneaux = this.props.get_creneaux();\n      var newdata = this.buildListCoursesToDisplay();\n      var cours_L = [];\n      var add_button = React.createElement(\"img\", {\n        width: \"25%\",\n        height: \"25%\",\n        src: plus_button,\n        alt: \"\",\n        onClick: function onClick() {\n          return _this4.props.add_course();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      });\n      cours_L.push(React.createElement(\"div\", {\n        className: \"img_button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, add_button));\n\n      var _loop = function _loop(index) {\n        var quit_button = React.createElement(\"img\", {\n          width: \"50%\",\n          height: \"15%\",\n          src: suppr_button,\n          alt: \"\",\n          onClick: function onClick() {\n            return _this4.props.confirm(newdata[index].id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        });\n        var course_info = [];\n        course_info.push(React.createElement(\"div\", {\n          className: \"cours\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, newdata[index].name), React.createElement(\"div\", {\n          className: \"champs\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"caract\\xE9ristiques\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, \"langue : \"), React.createElement(\"div\", {\n          className: \"attribut\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, newdata[index].language)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }), newdata[index].creneaux.map(function (id) {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"champs\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"caract\\xE9ristiques\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, \" horaires : \"), React.createElement(\"div\", {\n            className: \"attribut\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, L_creneaux[id].day), React.createElement(\"div\", {\n            className: \"attribut\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          }, L_creneaux[id].begin, \" / \", L_creneaux[id].end)));\n        })));\n        var change_button = React.createElement(\"img\", {\n          width: \"50%\",\n          height: \"15%\",\n          src: edit_button,\n          alt: \"\",\n          onClick: function onClick() {\n            return _this4.props.edit_course(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        });\n        course_info.push(React.createElement(\"div\", {\n          className: \"up-right_button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, quit_button, change_button));\n        cours_L.push(React.createElement(\"div\", {\n          className: \"course_info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, course_info));\n      };\n\n      for (var index = 0; index < newdata.length; index++) {\n        _loop(index);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"cours_L\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(CourseListFilter, {\n        criteriaWithOptions: this.state.criteria_with_options,\n        getCurrentFilters: this.getCurrentFilters,\n        handleFilterChange: this.handleFilterChange,\n        getSchedules: this.props.get_creneaux,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), cours_L);\n    }\n  }]);\n\n  return Cours;\n}(Component);\n\nvar CourseListFilter =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(CourseListFilter, _Component4);\n\n  function CourseListFilter() {\n    _classCallCheck(this, CourseListFilter);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CourseListFilter).apply(this, arguments));\n  }\n\n  _createClass(CourseListFilter, [{\n    key: \"render\",\n    value: function render() {\n      var schedules = this.props.getSchedules();\n      var criteria_selection = [];\n\n      for (var criterion in this.props.criteriaWithOptions) {\n        var list_options = [React.createElement(\"option\", {\n          value: \"\",\n          key: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        })];\n\n        for (var index = 0; index < this.props.criteriaWithOptions[criterion].length; index++) {\n          var option_name = this.props.criteriaWithOptions[criterion][index];\n\n          if (criterion !== 'schedule') {\n            list_options.push(React.createElement(\"option\", {\n              value: option_name,\n              key: option_name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 224\n              },\n              __self: this\n            }, option_name));\n          } else {\n            list_options.push(React.createElement(\"option\", {\n              value: option_name,\n              key: option_name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 226\n              },\n              __self: this\n            }, schedules[option_name].day + (schedules[option_name].day === \"hors-créneaux\" ? \"\" : \" \" + schedules[option_name].begin + \"-\" + schedules[option_name].end)));\n          }\n        }\n\n        criteria_selection.push(React.createElement(\"div\", {\n          className: \"course-list-filter-option\",\n          key: criterion,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, criterion === \"language\" ? \"Langue : \" : criterion === \"schedule\" ? \"Horaire : \" : \"erreur\"), React.createElement(\"select\", {\n          name: criterion,\n          type: \"select\",\n          value: this.props.getCurrentFilters()[criterion],\n          onChange: this.props.handleFilterChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, list_options)));\n        console.log(criteria_selection);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"course-list-filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, criteria_selection);\n    }\n  }]);\n\n  return CourseListFilter;\n}(Component);\n\nvar Edit =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(Edit, _Component5);\n\n  function Edit(props) {\n    var _this5;\n\n    _classCallCheck(this, Edit);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(Edit).call(this, props));\n\n    _this5.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var id_cren = target.id;\n      var name = target.name;\n\n      var id = _this5.props.get_id();\n\n      if (name === \"changer_horaires\") {\n        var new_state = _this5.state;\n        new_state.data[id].creneaux[id_cren] = parseInt(value);\n\n        _this5.setState(new_state);\n      } else if (name === \"changer_nom\") {\n        var _new_state = _this5.state;\n        _new_state.data[id].name = [value];\n\n        _this5.setState(_new_state);\n      } else if (name === \"changer_minimum\") {\n        var _new_state2 = _this5.state;\n        var parse = parseInt(value);\n\n        if (isNaN(parse) === true) {\n          _new_state2.data[id].min_students = 0;\n\n          _this5.setState(_new_state2);\n        } else if (typeof parse === \"number\") {\n          _new_state2.data[id].min_students = [parse];\n\n          _this5.setState(_new_state2);\n        }\n      } else if (name === \"changer_maximum\") {\n        var _new_state3 = _this5.state;\n\n        var _parse = parseInt(value);\n\n        if (isNaN(_parse) === true) {\n          _new_state3.data[id].max_students = 0;\n\n          _this5.setState(_new_state3);\n        } else if (typeof _parse === \"number\") {\n          _new_state3.data[id].max_students = [_parse];\n\n          _this5.setState(_new_state3);\n        }\n      }\n    };\n\n    _this5.submit = function () {\n      var id = _this5.props.get_id();\n\n      _this5.props.set_data(_this5.state.data[id]);\n\n      _this5.props.handlePageChange(\"Cours\");\n    };\n\n    _this5.exit = function () {\n      _this5.props.handlePageChange(\"Cours\");\n    };\n\n    _this5.state = {\n      data: _this5.props.get_data()\n    };\n    return _this5;\n  }\n\n  _createClass(Edit, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var id = this.props.get_id();\n      var L_creneaux = this.props.get_creneaux();\n      var change_course = [];\n      var creneaux_op = [];\n\n      for (var cren = 0; cren < L_creneaux.length; cren++) {\n        creneaux_op.push({\n          value: cren,\n          label: L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end\n        });\n      }\n\n      creneaux_op[0].label = \"hors creneaux\";\n      change_course.push([React.createElement(\"h1\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Modifier le cours\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, this.state.data[id].name), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Cr\\xE9neaux : \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, this.state.data[id].creneaux.map(function (cren) {\n        return React.createElement(\"select\", {\n          name: \"changer_horaires\",\n          type: \"select\",\n          value: cren,\n          id: _this6.state.data[id].creneaux.indexOf(cren),\n          onChange: _this6.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, creneaux_op.map(function (creneaux) {\n          return React.createElement(\"option\", {\n            value: creneaux.value,\n            id: _this6.state.data[id].creneaux.indexOf(cren),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 330\n            },\n            __self: this\n          }, creneaux.label, \" \");\n        }));\n      }), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Modifier le nom : \"), React.createElement(\"input\", {\n        name: \"changer_nom\",\n        type: \"text\",\n        value: this.state.data[id].name,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"Modifier la capacit\\xE9 : Minimum :\"), React.createElement(\"input\", {\n        name: \"changer_minimum\",\n        type: \"text\",\n        value: this.state.data[id].min_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, \" Maximum : \"), React.createElement(\"input\", {\n        name: \"changer_maximum\",\n        type: \"text\",\n        value: this.state.data[id].max_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }), \" \")]);\n      var submit_button = React.createElement(Button, {\n        text: \"Soumettre\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      });\n      var exit_button = React.createElement(Button, {\n        text: \"Retour\",\n        onClick: this.exit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      });\n      change_course.push([submit_button, exit_button]);\n      return React.createElement(\"div\", {\n        className: \"changing_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, change_course);\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nvar Add =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(Add, _Component6);\n\n  function Add(props) {\n    var _this7;\n\n    _classCallCheck(this, Add);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(Add).call(this, props));\n\n    _this7.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var id_cren = target.id;\n      var name = target.name;\n\n      if (name === \"ajouter_horaires\") {\n        var new_state = _this7.state;\n        console.log(\"value\", value, id_cren);\n        new_state.course.creneaux[id_cren] = parseInt(value);\n\n        _this7.setState(new_state);\n      } else if (name === \"ajouter_nom\") {\n        var _new_state4 = _this7.state;\n        _new_state4.course.name = [value];\n\n        _this7.setState(_new_state4);\n      } else if (name === \"ajouter_minimum\") {\n        var _new_state5 = _this7.state;\n        var parse = parseInt(value);\n\n        if (isNaN(parse) === true) {\n          _new_state5.course.min_students = 0;\n\n          _this7.setState(_new_state5);\n        } else if (typeof parse === \"number\") {\n          _new_state5.course.min_students = [parse];\n\n          _this7.setState(_new_state5);\n        }\n      } else if (name === \"ajouter_maximum\") {\n        var _new_state6 = _this7.state;\n\n        var _parse2 = parseInt(value);\n\n        if (isNaN(_parse2) === true) {\n          _new_state6.course.max_students = 0;\n\n          _this7.setState(_new_state6);\n        } else if (typeof _parse2 === \"number\") {\n          _new_state6.course.max_students = [_parse2];\n\n          _this7.setState(_new_state6);\n        }\n      }\n    };\n\n    _this7.submit = function () {\n      _this7.props.add_data(_this7.state.course);\n\n      _this7.props.handlePageChange(\"Cours\");\n    };\n\n    _this7.exit = function () {\n      _this7.props.handlePageChange(\"Cours\");\n    };\n\n    _this7.change_nb_créneaux = function (event) {\n      var value = parseInt(event.target.value);\n      var new_state = _this7.state;\n\n      if (value === 1) {\n        new_state.course.creneaux = [1];\n      } else if (value === 2) {\n        new_state.course.creneaux = [1, 1];\n      }\n\n      _this7.setState(new_state);\n    };\n\n    _this7.state = {\n      course: {\n        id: 0,\n        name: \"\",\n        language: \"\",\n        creneaux: [1],\n        min_students: 0,\n        max_students: 0\n      }\n    };\n    return _this7;\n  }\n\n  _createClass(Add, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      var add_course = [];\n      var L_creneaux = this.props.get_creneaux();\n      var creneaux_op = [];\n\n      for (var cren = 0; cren < L_creneaux.length; cren++) {\n        creneaux_op.push({\n          value: cren,\n          label: L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end\n        });\n      }\n\n      creneaux_op[0].label = \"hors creneaux\";\n      add_course.push([React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, \"Ajouter un cours\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, \"Nombre de cr\\xE9neaux : \"), React.createElement(\"select\", {\n        name: \"nombre_cr\\xE9neaux\",\n        type: \"select\",\n        value: this.state.course.creneaux.length,\n        onChange: this.change_nb_créneaux,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, \"2\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, this.state.course.creneaux.map(function (cren) {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }, \"Cr\\xE9neau(x) : \"), React.createElement(\"select\", {\n          name: \"ajouter_horaires\",\n          type: \"select\",\n          value: cren,\n          id: _this8.state.course.creneaux.indexOf(cren),\n          onChange: _this8.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }, creneaux_op.map(function (creneaux) {\n          return React.createElement(\"option\", {\n            value: creneaux.value,\n            id: _this8.state.course.creneaux.indexOf(cren),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 453\n            },\n            __self: this\n          }, creneaux.label, \" \");\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 456\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 456\n          },\n          __self: this\n        }));\n      }), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, \"Nom du cours : \"), React.createElement(\"input\", {\n        name: \"ajouter_nom\",\n        type: \"text\",\n        value: this.state.course.name,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, \"Capacit\\xE9 : Minimum :\"), React.createElement(\"input\", {\n        name: \"ajouter_minimum\",\n        type: \"text\",\n        value: this.state.course.min_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, \" Maximum : \"), React.createElement(\"input\", {\n        name: \"ajouter_maximum\",\n        type: \"text\",\n        value: this.state.course.max_students,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), \" \")]);\n      var submit_button = React.createElement(Button, {\n        text: \"Soumettre\",\n        onClick: function onClick() {\n          return _this8.submit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      });\n      var exit_button = React.createElement(Button, {\n        text: \"Retour\",\n        onClick: this.exit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      });\n      add_course.push([submit_button, exit_button]);\n      return React.createElement(\"div\", {\n        className: \"adding_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, add_course);\n    }\n  }]);\n\n  return Add;\n}(Component);\n\nvar Button =\n/*#__PURE__*/\nfunction (_Component7) {\n  _inherits(Button, _Component7);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, this.props.text);\n    }\n  }]);\n\n  return Button;\n}(Component);\n\nexport default CourseEditing;","map":{"version":3,"sources":["/home/luca/Documents/ENPC-2A/Projet-departement/language-allocation6/language-allocation/front/src/CourseEditing.js"],"names":["React","Component","axios","url","plus_button","suppr_button","edit_button","background_wall","CourseEditing","props","handlePageChange","page_name","new_state","state","page","setState","get_data","data","get_creneaux","creneaux","set_data","course","post","id","name","language","min_students","max_students","add_data","put","get_id","id_course","delete_course","index","delete","confirm","resultat","window","add_course","edit_course","token","sessionStorage","getItem","isAuth","get","withCredentials","headers","Authorization","then","res","err","history","push","result","data_serv","LoginPage","Cours","getCurrentFilters","current_filters","handleFilterChange","event","target","value","new_filters","buildCriteriaWithOptions","newdata","L_creneaux","list_languages","list_schedules","console","log","length","current_course","includes","index_schedule","schedule","criteria_with_options","buildListCoursesToDisplay","list_courses_to_display","filter","arr","parseInt","cours_L","add_button","quit_button","course_info","map","day","begin","end","change_button","CourseListFilter","schedules","getSchedules","criteria_selection","criterion","criteriaWithOptions","list_options","option_name","Edit","handleInputChange","id_cren","parse","isNaN","submit","exit","change_course","creneaux_op","cren","label","indexOf","submit_button","exit_button","Add","change_nb_créneaux","Button","onClick","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport url from \"./url\";\nimport \"./CourseEditing.css\"\nimport plus_button from \"./images/plus-button.png\"\nimport suppr_button from \"./images/suppr-button.png\"\nimport edit_button from \"./images/edit-button.png\"\nimport background_wall from \"./images/background_image.jpg\"\n\n\n\nclass CourseEditing extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { token:window.sessionStorage.getItem(\"jwt_token\"), isAuth:false, page: \"Cours\",data:[],id_course :0,creneaux:[]};\n      }\n     /* async componentDidMount() {\n        const { data: data_serv } = await axios.get(url + \"//\");\n        console.log(data_serv)\n        let new_state = this.state;\n        new_state.data=data_serv;\n       this.setState(new_state);\n      }*/\n      componentDidMount(){\n        axios.get(url+'admin/check-auth', {withCredentials:true, headers:{Authorization: 'Bearer '+this.state.token}}).then(\n          (res)=>{\n            this.state.isAuth=true;\n        },\n          (err)=>{\n            this.state.isAuth=false;\n            this.props.history.push('/admin/login')\n          }\n        )\n        axios.get(url + \"creneaux/\", {withCredentials:false})\n         .then(res => {let creneaux= res.data.result;\n           let new_state = this.state;\n           new_state.creneaux=creneaux;\n           this.setState(new_state);})\n        axios.get(url + \"courses/\", {withCredentials:false})\n        .then(res => {let data_serv= res.data.result;\n          let new_state = this.state;\n          new_state.data=data_serv;\n         this.setState(new_state);})\n\n      }\n\n      handlePageChange = page_name => {\n          let new_state=this.state;\n          new_state.page=page_name;\n          this.setState(new_state);\n\n      }\n      get_data = ()=> {\n          return this.state.data;\n      }\n\n\n      get_creneaux = ()=>{\n        return this.state.creneaux;\n      }\n\n      set_data = (course)=>{\n        axios.post(url + \"/courses/\" + course.id ,{name:course.name,language:course.language,creneaux:course.creneaux,min_students:course.min_students,max_students:course.max_students});\n      }\n\n      add_data = (course)=>{\n        axios.put(url + \"/courses/\", {name:course.name,language:course.language,creneaux:course.creneaux,min_students:course.min_students,max_students:course.max_students});\n      }\n\n      get_id = ()=>{\n        return this.state.id_course;\n      }\n\n      delete_course = index =>{\n        axios.delete(url + \"/courses/\" + index);\n\n      }\n\n      confirm = (index) => {\n        let resultat = window.confirm(\"Voulez vous vraiment supprimer ce cours ?\");\n        if(resultat === true){\n          this.delete_course(index);\n        }\n      };\n\n      add_course = ()=>{\n        let new_state = this.state;\n        new_state.page=\"add\";\n        this.setState(new_state)\n      }\n\n      edit_course = id =>{\n        let new_state = this.state;\n        new_state.id_course = id;\n        new_state.page=\"edit\";\n        this.setState(new_state);\n      }\n    render() {\n\n        let page=null;\n        if(this.state.page===\"Cours\"){\n            page=<Cours get_data ={this.get_data} delete_course={this.delete_course}\n            edit_course={this.edit_course} add_course={this.add_course} get_creneaux={this.get_creneaux} confirm ={this.confirm}/>\n        } else if(this.state.page===\"login\"){\n          page=<LoginPage handlePageChange={this.handlePageChange}/>\n        } else if(this.state.page === \"edit\"){\n          page=<Edit handlePageChange={this.handlePageChange} get_id ={this.get_id} get_data = {this.get_data} set_data = {this.set_data}\n          get_creneaux={this.get_creneaux}/>\n        } else if (this.state.page === \"add\"){\n          page=<Add handlePageChange={this.handlePageChange} add_data = {this.add_data} get_creneaux={this.get_creneaux}/>\n        }\n\n      return (\n        <div className=\"main-container\">{page}</div>\n      );\n    }\n    }\n\n    class LoginPage extends Component {\n      render() {\n        return (\n          <div>nothing for the moment</div>\n        );\n      }\n    }\n\n    class Cours extends Component {\n      constructor(props) {\n        super(props);\n        this.state = {current_filters: {language:\"\", schedule:\"\"}, criteria_with_options: this.buildCriteriaWithOptions()};//pas de filtrage par défaut\n      }\n\n      getCurrentFilters=()=>{\n        return this.state.current_filters;\n      }\n\n      handleFilterChange=(event) => {\n        const target = event.target;\n        const value =  target.value;\n        const name = target.name;\n\n        let new_filters= this.state.current_filters;\n        new_filters[name]=value;\n        this.setState({current_filters: new_filters});\n      }\n\n      buildCriteriaWithOptions=()=>{\n        let newdata=this.props.get_data();\n        let L_creneaux = this.props.get_creneaux();\n        let list_languages=[];\n        let list_schedules=[];\n        console.log(newdata)\n        for(let index=0; index<newdata.length; index++){\n          console.log(\"test\")\n          let current_course=newdata[index];\n          if(!list_languages.includes(current_course.language)){list_languages.push(current_course.language)};\n          for(let index_schedule=0; index_schedule<L_creneaux.length; index_schedule++){\n            let schedule=L_creneaux[index_schedule].id;\n            if(!list_schedules.includes(schedule)){list_schedules.push(schedule)};\n          }\n        }\n        let criteria_with_options ={};\n        if(list_languages.length>1){\n          criteria_with_options.language=list_languages;\n        }\n        if(list_schedules.length>1){\n          criteria_with_options.schedule=list_schedules;\n        }\n        return criteria_with_options;\n      }\n\n      buildListCoursesToDisplay=()=>{\n        let list_courses_to_display=this.props.get_data();\n        if(this.state.current_filters.language!==\"\"){\n          list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.language===this.state.current_filters.language;});\n        }\n        if(this.state.current_filters.schedule!==\"\"){\n          list_courses_to_display = list_courses_to_display.filter((value, index, arr)=>{return value.creneaux.includes(parseInt(this.state.current_filters.schedule));});\n        }\n        return list_courses_to_display;\n      }\n\n      render() {\n        this.state.criteria_with_options = this.buildCriteriaWithOptions();\n        let L_creneaux = this.props.get_creneaux();\n        let newdata=this.buildListCoursesToDisplay();\n          let cours_L=[];\n          let add_button=<img width = \"25%\" height = \"25%\" src = {plus_button} alt='' onClick={()=>this.props.add_course()}/>\n          cours_L.push(<div className=\"img_button\">{add_button}</div>);\n          for(let index=0; index<newdata.length; index++){\n            let quit_button=<img width=\"50%\" height = \"15%\" src = {suppr_button} alt='' onClick={()=>this.props.confirm(newdata[index].id)}/>\n            let course_info=[];\n              course_info.push(<div  className=\"cours\">\n              <h1 className=\"name\">{newdata[index].name}</h1>\n              <div className=\"champs\"><div className=\"caractéristiques\">langue : </div><div className=\"attribut\">{newdata[index].language}</div></div>\n              <p></p>\n              {newdata[index].creneaux.map((id)=>{\n                return <p><div className=\"champs\"><div className=\"caractéristiques\"> horaires : </div><div className=\"attribut\">{L_creneaux[id].day}</div>\n                <div className=\"attribut\">{L_creneaux[id].begin} / {L_creneaux[id].end}</div></div></p>})}\n              </div>)\n              let change_button=<img width = \"50%\" height = \"15%\" src = {edit_button} alt='' onClick={()=>this.props.edit_course(index)}/>\n              course_info.push(<div className = \"up-right_button\">{quit_button}{change_button}</div>)\n            cours_L.push(<div className=\"course_info\">{course_info}</div>)\n            }\n        return (\n          <div className=\"cours_L\">\n          <CourseListFilter criteriaWithOptions={this.state.criteria_with_options} getCurrentFilters={this.getCurrentFilters}\n          handleFilterChange={this.handleFilterChange} getSchedules={this.props.get_creneaux}/>\n          {cours_L}</div>\n        );\n      }\n    }\n\n    class CourseListFilter extends Component {\n      render() {\n        let schedules=this.props.getSchedules();\n        let criteria_selection=[];\n        for(let criterion in this.props.criteriaWithOptions){\n          let list_options=[<option value=\"\" key={\"\"}></option>];\n          for(let index=0; index<this.props.criteriaWithOptions[criterion].length; index++){\n            let option_name=this.props.criteriaWithOptions[criterion][index];\n            if(criterion!=='schedule'){\n              list_options.push(<option value={option_name} key={option_name}>{option_name}</option>);\n            } else {\n              list_options.push(<option value={option_name} key={option_name}>{schedules[option_name].day+(schedules[option_name].day===\"hors-créneaux\"? \"\":(\" \"+schedules[option_name].begin+\"-\"+schedules[option_name].end))}</option>);\n            }\n\n          }\n          criteria_selection.push(\n            <div className=\"course-list-filter-option\" key={criterion}>\n            <label >{criterion===\"language\"?\"Langue : \":(criterion===\"schedule\"?\"Horaire : \":\"erreur\")}</label>\n            <select\n                name={criterion}\n                type='select'\n                value={this.props.getCurrentFilters()[criterion]}\n                onChange={this.props.handleFilterChange} >\n                {list_options}\n              </select>\n          </div>\n\n          );\n          console.log(criteria_selection);\n        }\n        return (\n          <div className=\"course-list-filter\">{criteria_selection}</div>\n        );\n      }\n      }\n\n    class Edit extends Component{\n      constructor(props){\n        super(props);\n        this.state = {data:this.props.get_data()}\n      }\n\n      handleInputChange= (event) => {\n        const target = event.target;\n        const value = target.value;\n        const id_cren = target.id;\n        const name = target.name;\n        let id = this.props.get_id();\n        if (name === \"changer_horaires\"){\n          let new_state = this.state;\n          new_state.data[id].creneaux[id_cren]=parseInt(value);\n          this.setState(new_state);\n        }\n        else if(name === \"changer_nom\"){\n          let new_state = this.state;\n          new_state.data[id].name=[value];\n          this.setState(new_state);\n        }\n        else if (name === \"changer_minimum\"){\n          let new_state = this.state;\n          let parse = parseInt(value)\n\n          if (isNaN(parse)===true){\n            new_state.data[id].min_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.data[id].min_students=[parse];\n           this.setState(new_state);\n            }\n          }\n        else if (name === \"changer_maximum\"){\n\n          let new_state = this.state;\n          let parse = parseInt(value)\n          if (isNaN(parse)===true){\n            new_state.data[id].max_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.data[id].max_students=[parse];\n           this.setState(new_state);\n            }\n          }\n      }\n\n      submit = () =>{\n        let id = this.props.get_id();\n        this.props.set_data(this.state.data[id]);\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      exit = () =>{\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      render(){\n        let id = this.props.get_id();\n        let L_creneaux = this.props.get_creneaux();\n        let change_course=[];\n        let creneaux_op = [];\n        for (let cren = 0;cren<L_creneaux.length; cren++){\n          creneaux_op.push({ value:cren,label:L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end});\n        }\n        creneaux_op[0].label = \"hors creneaux\";\n        change_course.push([<h1 className=\"Title\">Modifier le cours</h1> ,<h2>{this.state.data[id].name}</h2>,<label>Créneaux : </label>,\n        <div>{this.state.data[id].creneaux.map((cren)=>{\n          return <select\n          name=\"changer_horaires\"\n          type='select'\n          value={cren}\n          id = {this.state.data[id].creneaux.indexOf(cren)}\n          onChange={this.handleInputChange} >\n          {\n              creneaux_op.map((creneaux)=>{\n                return <option value ={creneaux.value} id = {this.state.data[id].creneaux.indexOf(cren)}>{creneaux.label} </option>;\n              })\n            }\n             </select>\n           })} </div>,<p><label>Modifier le nom : </label><input\n          name=\"changer_nom\"\n          type=\"text\"\n          value={this.state.data[id].name}\n          onChange={this.handleInputChange} /> </p>,<p><label>Modifier la capacité : Minimum :</label><input\n          name = \"changer_minimum\"\n          type = \"text\"\n          value = {this.state.data[id].min_students}\n          onChange = {this.handleInputChange} /><label> Maximum : </label><input\n          name = \"changer_maximum\"\n          type = \"text\"\n          value = {this.state.data[id].max_students}\n          onChange = {this.handleInputChange} /> </p>])\n          let submit_button = <Button text = \"Soumettre\" onClick={this.submit}/>;\n          let exit_button = <Button text = \"Retour\" onClick={this.exit}/>;\n          change_course.push([submit_button,exit_button]);\n        return(<div className=\"changing_page\">{change_course}</div>)\n      }\n    }\n\n    class Add extends Component{\n      constructor(props){\n        super(props);\n        this.state = {course:{id: 0, name: \"\", language: \"\", creneaux: [1], min_students:0,max_students:0}}\n      }\n\n      handleInputChange= (event) => {\n\n        const target = event.target;\n        const value = target.value;\n        const id_cren = target.id;\n        const name = target.name;\n\n        if (name === \"ajouter_horaires\"){\n          let new_state = this.state;\n          console.log(\"value\",value,id_cren)\n          new_state.course.creneaux[id_cren]=parseInt(value);\n          this.setState(new_state);\n        }\n        else if(name === \"ajouter_nom\"){\n          let new_state = this.state;\n          new_state.course.name=[value];\n          this.setState(new_state);\n        }\n        else if (name === \"ajouter_minimum\"){\n          let new_state = this.state;\n          let parse = parseInt(value)\n\n          if (isNaN(parse)===true){\n            new_state.course.min_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.course.min_students=[parse];\n           this.setState(new_state);\n            }\n          }\n        else if (name === \"ajouter_maximum\"){\n\n          let new_state = this.state;\n          let parse = parseInt(value)\n          if (isNaN(parse)===true){\n            new_state.course.max_students=0;\n            this.setState(new_state);\n          }\n          else if (typeof parse === \"number\"){\n           new_state.course.max_students=[parse];\n           this.setState(new_state);\n            }\n          }\n        }\n\n\n      submit = () =>{\n\n        this.props.add_data(this.state.course);\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      exit = () =>{\n        this.props.handlePageChange(\"Cours\");\n      }\n\n      change_nb_créneaux = (event)=>{\n        const value = parseInt(event.target.value);\n        let new_state = this.state;\n        if (value === 1){\n          new_state.course.creneaux = [1];\n          }\n        else if (value === 2){\n          new_state.course.creneaux = [1,1];\n        }\n        this.setState(new_state);\n      }\n\n      render() {\n        let add_course=[];\n        let L_creneaux = this.props.get_creneaux();\n        let creneaux_op = [];\n        for (let cren = 0;cren<L_creneaux.length; cren++){\n          creneaux_op.push({ value:cren,label:L_creneaux[cren].day + \" \" + L_creneaux[cren].begin + \" / \" + L_creneaux[cren].end});\n        }\n        creneaux_op[0].label = \"hors creneaux\";\n        add_course.push([<h1>Ajouter un cours</h1> ,<label>Nombre de créneaux : </label>,<select\n          name=\"nombre_créneaux\"\n          type=\"select\"\n          value={this.state.course.creneaux.length}\n          onChange={this.change_nb_créneaux}>\n          <option value={1}>1</option>\n          <option value={2}>2</option></select>\n          ,<div>{this.state.course.creneaux.map((cren)=>{\n            return <span><br/><label>Créneau(x) : </label><select\n            name=\"ajouter_horaires\"\n            type='select'\n            value={cren}\n            id={this.state.course.creneaux.indexOf(cren)}\n            onChange={this.handleInputChange} >\n            {\n                creneaux_op.map((creneaux)=>{\n                  return <option value ={creneaux.value} id = {this.state.course.creneaux.indexOf(cren)}>{creneaux.label} </option>;\n                })\n              }\n               </select><br/><br/></span>\n             })} </div>,<p><label>Nom du cours : </label><input\n          name=\"ajouter_nom\"\n          type=\"text\"\n          value={this.state.course.name}\n          onChange={this.handleInputChange} /> </p>,<p><label>Capacité : Minimum :</label><input\n          name = \"ajouter_minimum\"\n          type = \"text\"\n          value = {this.state.course.min_students}\n          onChange = {this.handleInputChange} /><label> Maximum : </label><input\n          name = \"ajouter_maximum\"\n          type = \"text\"\n          value = {this.state.course.max_students}\n          onChange = {this.handleInputChange} /> </p>])\n          let submit_button = <Button text = \"Soumettre\" onClick={()=>this.submit()}/>;\n          let exit_button = <Button text = \"Retour\" onClick={this.exit}/>;\n          add_course.push([submit_button,exit_button]);\n        return(<div className=\"adding_page\">{add_course}</div>)\n      }\n    }\n\n    class Button extends Component {\n      render() {\n        return (\n          <button className=\"button\" onClick={this.props.onClick}>{this.props.text}</button>\n        );\n      }\n    }\n\n\nexport default CourseEditing;\n"]},"metadata":{},"sourceType":"module"}